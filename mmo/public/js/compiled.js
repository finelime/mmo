var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,g=0;g<d;g++){var h=a[g];if(b.call(c,h,g,a))return{i:g,v:h}}return{i:-1,v:void 0}};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var g=a[d];g in c||(c[g]={});c=c[g]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var d=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var g=d.length,h=a.length,m=Math.max(0,Math.min(c|0,d.length)),l=0;l<h&&m<g;)if(d[m++]!=a[l++])return!1;return l>=h}},"es6-impl","es3");
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a,f){f=f||v;var u=f.createElement("script");u.text=a;f.head.appendChild(u).parentNode.removeChild(u)}function d(a){var f=!!a&&"length"in a&&a.length,u=e.type(a);return"function"!==u&&!e.isWindow(a)&&("array"===u||0===f||"number"==
typeof f&&0<f&&f-1 in a)}function g(a,f,u){if(e.isFunction(f))return e.grep(a,function(a,k){return!!f.call(a,k,a)!==u});if(f.nodeType)return e.grep(a,function(a){return a===f!==u});if("string"==typeof f){if(Kb.test(f))return e.filter(f,a,u);f=e.filter(f,a)}return e.grep(a,function(a){return-1<Aa.call(f,a)!==u&&1===a.nodeType})}function h(a,f){for(;(a=a[f])&&1!==a.nodeType;);return a}function m(a){var f={};return e.each(a.match(N)||[],function(a,k){f[k]=!0}),f}function l(a){return a}function n(a){throw a;
}function p(a,f,b){var q;try{a&&e.isFunction(q=a.promise)?q.call(a).done(f).fail(b):a&&e.isFunction(q=a.then)?q.call(a,f,b):f.call(void 0,a)}catch(c){b.call(void 0,c)}}function t(){v.removeEventListener("DOMContentLoaded",t);a.removeEventListener("load",t);e.ready()}function B(){this.expando=e.expando+B.uid++}function aa(a,f,b){var e;if(void 0===b&&1===a.nodeType)if(e="data-"+f.replace(Lb,"-$&").toLowerCase(),b=a.getAttribute(e),"string"==typeof b){try{b="true"===b||"false"!==b&&("null"===b?null:
+b+""===b?+b:Mb.test(b)?JSON.parse(b):b)}catch(c){}P.set(a,f,b)}else b=void 0;return b}function V(a,f,b,q){var c,d=1,g=20,h=q?function(){return q.cur()}:function(){return e.css(a,f,"")},m=h(),l=b&&b[3]||(e.cssNumber[f]?"":"px"),n=(e.cssNumber[f]||"px"!==l&&+m)&&ra.exec(e.css(a,f));if(n&&n[3]!==l){l=l||n[3];b=b||[];n=+m||1;do d=d||".5",n/=d,e.style(a,f,n+l);while(d!==(d=h()/m)&&1!==d&&--g)}return b&&(n=+n||+m||0,c=b[1]?n+(b[1]+1)*b[2]:+b[2],q&&(q.unit=l,q.start=n,q.end=c)),c}function O(a,f){for(var b,
q,c=[],d=0,g=a.length;d<g;d++)if(q=a[d],q.style)if(b=q.style.display,f){if("none"===b&&(c[d]=z.get(q,"display")||null,c[d]||(q.style.display="")),""===q.style.display&&Ba(q)){b=d;var h,m=void 0;h=q.ownerDocument;var l=q.nodeName;h=(q=Va[l])?q:(m=h.body.appendChild(h.createElement(l)),q=e.css(m,"display"),m.parentNode.removeChild(m),"none"===q&&(q="block"),Va[l]=q,q);c[b]=h}}else"none"!==b&&(c[d]="none",z.set(q,"display",b));for(d=0;d<g;d++)null!=c[d]&&(a[d].style.display=c[d]);return a}function K(a,
f){var b="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(f||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(f||"*"):[];return void 0===f||f&&e.nodeName(a,f)?e.merge([a],b):b}function Ja(a,f){for(var b=0,e=a.length;b<e;b++)z.set(a[b],"globalEval",!f||z.get(f[b],"globalEval"))}function Wa(a,f,b,q,c){for(var d,g,h,m,l=f.createDocumentFragment(),n=[],p=0,y=a.length;p<y;p++)if(d=a[p],d||0===d)if("object"===e.type(d))e.merge(n,d.nodeType?[d]:d);else if(Nb.test(d)){g=g||
l.appendChild(f.createElement("div"));h=(Xa.exec(d)||["",""])[1].toLowerCase();h=H[h]||H._default;g.innerHTML=h[1]+e.htmlPrefilter(d)+h[2];for(h=h[0];h--;)g=g.lastChild;e.merge(n,g.childNodes);g=l.firstChild;g.textContent=""}else n.push(f.createTextNode(d));l.textContent="";for(p=0;d=n[p++];)if(q&&-1<e.inArray(d,q))c&&c.push(d);else if(m=e.contains(d.ownerDocument,d),g=K(l.appendChild(d),"script"),m&&Ja(g),b)for(h=0;d=g[h++];)Ya.test(d.type||"")&&b.push(d);return l}function ja(){return!0}function ca(){return!1}
function Za(){try{return v.activeElement}catch(a){}}function Ka(a,f,b,q,c,d){var g,h;if("object"==typeof f){"string"!=typeof b&&(q=q||b,b=void 0);for(h in f)Ka(a,h,b,q,f[h],d);return a}if(null==q&&null==c?(c=b,q=b=void 0):null==c&&("string"==typeof b?(c=q,q=void 0):(c=q,q=b,b=void 0)),!1===c)c=ca;else if(!c)return a;return 1===d&&(g=c,c=function(a){return e().off(a),g.apply(this,arguments)},c.guid=g.guid||(g.guid=e.guid++)),a.each(function(){e.event.add(this,f,c,q,b)})}function $a(a,f){return e.nodeName(a,
"table")&&e.nodeName(11!==f.nodeType?f:f.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Ob(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Pb(a){var f=Qb.exec(a.type);return f?a.type=f[1]:a.removeAttribute("type"),a}function ab(a,f){var b,q,c,d,g,h;if(1===f.nodeType){if(z.hasData(a)&&(b=z.access(a),q=z.set(f,b),h=b.events))for(c in delete q.handle,q.events={},h)for(b=0,q=h[c].length;b<q;b++)e.event.add(f,c,h[c][b]);P.hasData(a)&&(d=P.access(a),g=e.extend({},
d),P.set(f,g))}}function ka(a,f,b,q){f=bb.apply([],f);var d,g,h,m,l=0,n=a.length,p=n-1,A=f[0],y=e.isFunction(A);if(y||1<n&&"string"==typeof A&&!x.checkClone&&Rb.test(A))return a.each(function(e){var c=a.eq(e);y&&(f[0]=A.call(this,e,c.html()));ka(c,f,b,q)});if(n&&(d=Wa(f,a[0].ownerDocument,!1,a,q),g=d.firstChild,1===d.childNodes.length&&(d=g),g||q)){g=e.map(K(d,"script"),Ob);for(h=g.length;l<n;l++)m=d,l!==p&&(m=e.clone(m,!0,!0),h&&e.merge(g,K(m,"script"))),b.call(a[l],m,l);if(h)for(d=g[g.length-1].ownerDocument,
e.map(g,Pb),l=0;l<h;l++)m=g[l],Ya.test(m.type||"")&&!z.access(m,"globalEval")&&e.contains(d,m)&&(m.src?e._evalUrl&&e._evalUrl(m.src):c(m.textContent.replace(Sb,""),d))}return a}function cb(a,f,b){for(var q=f?e.filter(f,a):a,c=0;null!=(f=q[c]);c++)b||1!==f.nodeType||e.cleanData(K(f)),f.parentNode&&(b&&e.contains(f.ownerDocument,f)&&Ja(K(f,"script")),f.parentNode.removeChild(f));return a}function sa(a,f,b){var q,c,d,g,h=a.style;return b=b||ta(a),b&&(g=b.getPropertyValue(f)||b[f],""!==g||e.contains(a.ownerDocument,
a)||(g=e.style(a,f)),!x.pixelMarginRight()&&La.test(g)&&db.test(f)&&(q=h.width,c=h.minWidth,d=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=b.width,h.width=q,h.minWidth=c,h.maxWidth=d)),void 0!==g?g+"":g}function eb(a,f){return{get:function(){return a()?void delete this.get:(this.get=f).apply(this,arguments)}}}function fb(a){if(a in gb)return a;for(var f=a[0].toUpperCase()+a.slice(1),b=hb.length;b--;)if(a=hb[b]+f,a in gb)return a}function ib(a,f,b){return(a=ra.exec(f))?Math.max(0,a[2]-(b||0))+(a[3]||
"px"):f}function jb(a,f,b,c,d){f=b===(c?"border":"content")?4:"width"===f?1:0;for(var g=0;4>f;f+=2)"margin"===b&&(g+=e.css(a,b+X[f],!0,d)),c?("content"===b&&(g-=e.css(a,"padding"+X[f],!0,d)),"margin"!==b&&(g-=e.css(a,"border"+X[f]+"Width",!0,d))):(g+=e.css(a,"padding"+X[f],!0,d),"padding"!==b&&(g+=e.css(a,"border"+X[f]+"Width",!0,d)));return g}function kb(a,f,b){var c,d=!0,g=ta(a),h="border-box"===e.css(a,"boxSizing",!1,g);if(a.getClientRects().length&&(c=a.getBoundingClientRect()[f]),0>=c||null==
c){if(c=sa(a,f,g),(0>c||null==c)&&(c=a.style[f]),La.test(c))return c;d=h&&(x.boxSizingReliable()||c===a.style[f]);c=parseFloat(c)||0}return c+jb(a,f,b||(h?"border":"content"),d,g)+"px"}function Q(a,f,b,e,c){return new Q.prototype.init(a,f,b,e,c)}function lb(){Y&&(a.requestAnimationFrame(lb),e.fx.tick())}function mb(){return a.setTimeout(function(){la=void 0}),la=e.now()}function ua(a,f){var b,e=0,c={height:a};for(f=f?1:0;4>e;e+=2-f)b=X[e],c["margin"+b]=c["padding"+b]=a;return f&&(c.opacity=c.width=
a),c}function nb(a,f,b){for(var e,c=(U.tweeners[f]||[]).concat(U.tweeners["*"]),d=0,g=c.length;d<g;d++)if(e=c[d].call(b,f,a))return e}function Tb(a,f){var b,c,d,g,h;for(b in a)if(c=e.camelCase(b),d=f[c],g=a[b],e.isArray(g)&&(d=g[1],g=a[b]=g[0]),b!==c&&(a[c]=g,delete a[b]),h=e.cssHooks[c],h&&"expand"in h)for(b in g=h.expand(g),delete a[c],g)b in a||(a[b]=g[b],f[b]=d);else f[c]=d}function U(a,f,b){var c,d=0,g=U.prefilters.length,h=e.Deferred().always(function(){delete m.elem}),m=function(){if(c)return!1;
for(var f=la||mb(),f=Math.max(0,l.startTime+l.duration-f),b=1-(f/l.duration||0),e=0,u=l.tweens.length;e<u;e++)l.tweens[e].run(b);return h.notifyWith(a,[l,b,f]),1>b&&u?f:(h.resolveWith(a,[l]),!1)},l=h.promise({elem:a,props:e.extend({},f),opts:e.extend(!0,{specialEasing:{},easing:e.easing._default},b),originalProperties:f,originalOptions:b,startTime:la||mb(),duration:b.duration,tweens:[],createTween:function(f,b){var c=e.Tween(a,l.opts,f,b,l.opts.specialEasing[f]||l.opts.easing);return l.tweens.push(c),
c},stop:function(f){var b=0,e=f?l.tweens.length:0;if(c)return this;for(c=!0;b<e;b++)l.tweens[b].run(1);return f?(h.notifyWith(a,[l,1,0]),h.resolveWith(a,[l,f])):h.rejectWith(a,[l,f]),this}});b=l.props;for(Tb(b,l.opts.specialEasing);d<g;d++)if(f=U.prefilters[d].call(l,a,b,l.opts))return e.isFunction(f.stop)&&(e._queueHooks(l.elem,l.opts.queue).stop=e.proxy(f.stop,f)),f;return e.map(b,nb,l),e.isFunction(l.opts.start)&&l.opts.start.call(a,l),e.fx.timer(e.extend(m,{elem:a,anim:l,queue:l.opts.queue})),
l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function da(a){return a.getAttribute&&a.getAttribute("class")||""}function Ma(a,f,b,c){var d;if(e.isArray(f))e.each(f,function(f,e){b||Ub.test(a)?c(a,e):Ma(a+"["+("object"==typeof e&&null!=e?f:"")+"]",e,b,c)});else if(b||"object"!==e.type(f))c(a,f);else for(d in f)Ma(a+"["+d+"]",f[d],b,c)}function ob(a){return function(f,b){"string"!=typeof f&&(b=f,f="*");var c,d=0,g=f.toLowerCase().match(N)||[];
if(e.isFunction(b))for(;c=g[d++];)"+"===c[0]?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(b)):(a[c]=a[c]||[]).push(b)}}function pb(a,f,b,c){function d(l){var m;return g[l]=!0,e.each(a[l]||[],function(a,k){var e=k(f,b,c);return"string"!=typeof e||h||g[e]?h?!(m=e):void 0:(f.dataTypes.unshift(e),d(e),!1)}),m}var g={},h=a===Na;return d(f.dataTypes[0])||!g["*"]&&d("*")}function Oa(a,f){var b,c,d=e.ajaxSettings.flatOptions||{};for(b in f)void 0!==f[b]&&((d[b]?a:c||(c={}))[b]=f[b]);return c&&e.extend(!0,a,
c),a}function qb(a){return e.isWindow(a)?a:9===a.nodeType&&a.defaultView}var M=[],v=a.document,Vb=Object.getPrototypeOf,ea=M.slice,bb=M.concat,Pa=M.push,Aa=M.indexOf,va={},rb=va.toString,Ca=va.hasOwnProperty,sb=Ca.toString,Wb=sb.call(Object),x={},e=function(a,f){return new e.fn.init(a,f)},Xb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Yb=/^-ms-/,Zb=/-([a-z])/g,$b=function(a,f){return f.toUpperCase()};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();
e.fn=e.prototype={jquery:"3.1.0",constructor:e,length:0,toArray:function(){return ea.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ea.call(this)},pushStack:function(a){a=e.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return e.each(this,a)},map:function(a){return this.pushStack(e.map(this,function(f,b){return a.call(f,b,f)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var f=this.length;a=+a+(0>a?f:0);return this.pushStack(0<=a&&a<f?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Pa,sort:M.sort,splice:M.splice};e.extend=e.fn.extend=function(){var a,f,b,c,d,g,h=arguments[0]||{},l=1,m=arguments.length,n=!1;"boolean"==typeof h&&(n=h,h=arguments[l]||{},l++);"object"==typeof h||e.isFunction(h)||(h={});for(l===m&&(h=this,l--);l<m;l++)if(null!=(a=arguments[l]))for(f in a)b=h[f],c=a[f],h!==c&&(n&&c&&(e.isPlainObject(c)||(d=
e.isArray(c)))?(d?(d=!1,g=b&&e.isArray(b)?b:[]):g=b&&e.isPlainObject(b)?b:{},h[f]=e.extend(n,g,c)):void 0!==c&&(h[f]=c));return h};e.extend({expando:"jQuery"+("3.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var f=e.type(a);return("number"===f||"string"===f)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var f,
b;return!(!a||"[object Object]"!==rb.call(a))&&(!(f=Vb(a))||(b=Ca.call(f,"constructor")&&f.constructor,"function"==typeof b&&sb.call(b)===Wb))},isEmptyObject:function(a){for(var f in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?va[rb.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(Yb,"ms-").replace(Zb,$b)},nodeName:function(a,f){return a.nodeName&&a.nodeName.toLowerCase()===f.toLowerCase()},each:function(a,
f){var b,e=0;if(d(a))for(b=a.length;e<b&&!1!==f.call(a[e],e,a[e]);e++);else for(e in a)if(!1===f.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Xb,"")},makeArray:function(a,f){var b=f||[];return null!=a&&(d(Object(a))?e.merge(b,"string"==typeof a?[a]:a):Pa.call(b,a)),b},inArray:function(a,f,b){return null==f?-1:Aa.call(f,a,b)},merge:function(a,f){for(var b=+f.length,e=0,c=a.length;e<b;e++)a[c++]=f[e];return a.length=c,a},grep:function(a,f,b){for(var e=[],c=0,d=
a.length,g=!b;c<d;c++)b=!f(a[c],c),b!==g&&e.push(a[c]);return e},map:function(a,f,b){var e,c,g=0,h=[];if(d(a))for(e=a.length;g<e;g++)c=f(a[g],g,b),null!=c&&h.push(c);else for(g in a)c=f(a[g],g,b),null!=c&&h.push(c);return bb.apply([],h)},guid:1,proxy:function(a,f){var b,c,d;if("string"==typeof f&&(b=a[f],f=a,a=b),e.isFunction(a))return c=ea.call(arguments,2),d=function(){return a.apply(f||this,c.concat(ea.call(arguments)))},d.guid=a.guid=a.guid||e.guid++,d},now:Date.now,support:x});"function"==typeof Symbol&&
(e.fn[Symbol.iterator]=M[Symbol.iterator]);e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,f){va["[object "+f+"]"]=f.toLowerCase()});var ia=function(a){function f(a,k,f,b){var e,c,d,g,u,q=k&&k.ownerDocument,h=k?k.nodeType:9;if(f=f||[],"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return f;if(!b&&((k?k.ownerDocument||k:J)!==F&&ma(k),k=k||F,Z)){if(11!==h&&(g=Ba.exec(a)))if(e=g[1])if(9===h){if(!(c=k.getElementById(e)))return f;if(c.id===e)return f.push(c),
f}else{if(q&&(c=q.getElementById(e))&&Ea(k,c)&&c.id===e)return f.push(c),f}else{if(g[2])return na.apply(f,k.getElementsByTagName(a)),f;if((e=g[3])&&C.getElementsByClassName&&k.getElementsByClassName)return na.apply(f,k.getElementsByClassName(e)),f}if(!(!C.qsa||T[a+" "]||I&&I.test(a))){if(1!==h)q=k,u=a;else if("object"!==k.nodeName.toLowerCase()){(d=k.getAttribute("id"))?d=d.replace(ta,ua):k.setAttribute("id",d=D);c=Fa(a);for(e=c.length;e--;)c[e]="#"+d+" "+r(c[e]);u=c.join(",");q=ja.test(a)&&p(k.parentNode)||
k}if(u)try{return na.apply(f,q.querySelectorAll(u)),f}catch(E){}finally{d===D&&k.removeAttribute("id")}}}return H(a.replace(Y,"$1"),k,f,b)}function b(){function a(f,b){return k.push(f+" ")>w.cacheLength&&delete a[k.shift()],a[f+" "]=b}var k=[];return a}function e(a){return a[D]=!0,a}function c(a){var k=F.createElement("fieldset");try{return!!a(k)}catch(f){return!1}finally{k.parentNode&&k.parentNode.removeChild(k)}}function d(a,k){for(var f=a.split("|"),b=f.length;b--;)w.attrHandle[f[b]]=k}function g(a,
k){var f=k&&a,b=f&&1===a.nodeType&&1===k.nodeType&&a.sourceIndex-k.sourceIndex;if(b)return b;if(f)for(;f=f.nextSibling;)if(f===k)return-1;return a?1:-1}function h(a){return function(k){return"input"===k.nodeName.toLowerCase()&&k.type===a}}function l(a){return function(k){var f=k.nodeName.toLowerCase();return("input"===f||"button"===f)&&k.type===a}}function m(a){return function(k){return"label"in k&&k.disabled===a||"form"in k&&k.disabled===a||"form"in k&&!1===k.disabled&&(k.isDisabled===a||k.isDisabled!==
!a&&("label"in k||!Ca(k))!==a)}}function n(a){return e(function(k){return k=+k,e(function(f,b){for(var e,c=a([],f.length,k),d=c.length;d--;)f[e=c[d]]&&(f[e]=!(b[e]=f[e]))})})}function p(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function y(){}function r(a){for(var k=0,f=a.length,b="";k<f;k++)b+=a[k].value;return b}function t(a,k,f){var b=k.dir,e=k.next,c=e||b,d=f&&"parentNode"===c,g=U++;return k.first?function(k,f,e){for(;k=k[b];)if(1===k.nodeType||d)return a(k,f,e)}:function(k,f,
u){var q,h,E,l=[fa,g];if(u)for(;k=k[b];){if((1===k.nodeType||d)&&a(k,f,u))return!0}else for(;k=k[b];)if(1===k.nodeType||d)if(E=k[D]||(k[D]={}),h=E[k.uniqueID]||(E[k.uniqueID]={}),e&&e===k.nodeName.toLowerCase())k=k[b]||k;else{if((q=h[c])&&q[0]===fa&&q[1]===g)return l[2]=q[2];if(h[c]=l,l[2]=a(k,f,u))return!0}}}function z(a){return 1<a.length?function(k,f,b){for(var e=a.length;e--;)if(!a[e](k,f,b))return!1;return!0}:a[0]}function v(a,k,f,b,e){for(var c,d=[],g=0,u=a.length,q=null!=k;g<u;g++)(c=a[g])&&
(f&&!f(c,b,e)||(d.push(c),q&&k.push(g)));return d}function x(a,k,b,c,d,g){return c&&!c[D]&&(c=x(c)),d&&!d[D]&&(d=x(d,g)),e(function(e,g,u,q){var h,E,l=[],R=[],m=g.length,G;if(!(G=e)){G=k||"*";for(var n=u.nodeType?[u]:u,S=[],L=0,r=n.length;L<r;L++)f(G,n[L],S);G=S}G=!a||!e&&k?G:v(G,l,a,u,q);n=b?d||(e?a:m||c)?[]:g:G;if(b&&b(G,n,u,q),c)for(h=v(n,R),c(h,[],u,q),u=h.length;u--;)(E=h[u])&&(n[R[u]]=!(G[R[u]]=E));if(e){if(d||a){if(d){h=[];for(u=n.length;u--;)(E=n[u])&&h.push(G[u]=E);d(null,n=[],h,q)}for(u=
n.length;u--;)(E=n[u])&&-1<(h=d?wa(e,E):l[u])&&(e[h]=!(g[h]=E))}}else n=v(n===g?n.splice(m,n.length):n),d?d(null,g,n,q):na.apply(g,n)})}function B(a){var k,f,b,e=a.length,c=w.relative[a[0].type];f=c||w.relative[" "];for(var d=c?1:0,g=t(function(a){return a===k},f,!0),u=t(function(a){return-1<wa(k,a)},f,!0),q=[function(a,f,b){a=!c&&(b||f!==N)||((k=f).nodeType?g(a,f,b):u(a,f,b));return k=null,a}];d<e;d++)if(f=w.relative[a[d].type])q=[t(z(q),f)];else{if(f=w.filter[a[d].type].apply(null,a[d].matches),
f[D]){for(b=++d;b<e&&!w.relative[a[b].type];b++);return x(1<d&&z(q),1<d&&r(a.slice(0,d-1).concat({value:" "===a[d-2].type?"*":""})).replace(Y,"$1"),f,d<b&&B(a.slice(d,b)),b<e&&B(a=a.slice(b)),b<e&&r(a))}q.push(f)}return z(q)}function P(a,k){var b=0<k.length,c=0<a.length,d=function(e,d,g,u,q){var h,E,l,R=0,m="0",G=e&&[],n=[],S=N,L=e||c&&w.find.TAG("*",q),r=fa+=null==S?1:Math.random()||.1,p=L.length;for(q&&(N=d===F||d||q);m!==p&&null!=(h=L[m]);m++){if(c&&h){E=0;for(d||h.ownerDocument===F||(ma(h),g=
!Z);l=a[E++];)if(l(h,d||F,g)){u.push(h);break}q&&(fa=r)}b&&((h=!l&&h)&&R--,e&&G.push(h))}if(R+=m,b&&m!==R){for(E=0;l=k[E++];)l(G,n,d,g);if(e){if(0<R)for(;m--;)G[m]||n[m]||(n[m]=ea.call(u));n=v(n)}na.apply(u,n);q&&!e&&0<n.length&&1<R+k.length&&f.uniqueSort(u)}return q&&(fa=r,N=S),G};return b?e(d):d}var K,C,w,oa,tb,Fa,Q,H,N,pa,Da,ma,F,W,Z,I,xa,O,Ea,D="sizzle"+1*new Date,J=a.document,fa=0,U=0,aa=b(),V=b(),T=b(),X=function(a,k){return a===k&&(Da=!0),0},da={}.hasOwnProperty,M=[],ea=M.pop,ia=M.push,na=
M.push,ca=M.slice,wa=function(a,k){for(var f=0,b=a.length;f<b;f++)if(a[f]===k)return f;return-1},ka=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Y=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),la=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,qa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ra=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),sa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ya=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ba={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},za=/^(?:input|select|textarea|button)$/i,Aa=/^h\d$/i,Ga=
/^[^{]+\{\s*\[native \w/,Ba=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ja=/[+~]/,ga=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ha=function(a,k,f){a="0x"+k-65536;return a!==a||f?k:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},ta=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ua=function(a,k){return k?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},va=function(){ma()},Ca=t(function(a){return!0===a.disabled},
{dir:"parentNode",next:"legend"});try{na.apply(M=ca.call(J.childNodes),J.childNodes),M[J.childNodes.length].nodeType}catch(Bc){na={apply:M.length?function(a,k){ia.apply(a,ca.call(k))}:function(a,k){for(var f=a.length,b=0;a[f++]=k[b++];);a.length=f-1}}}C=f.support={};tb=f.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName};ma=f.setDocument=function(a){var k,f;a=a?a.ownerDocument||a:J;return a!==F&&9===a.nodeType&&a.documentElement?(F=a,W=F.documentElement,Z=
!tb(F),J!==F&&(f=F.defaultView)&&f.top!==f&&(f.addEventListener?f.addEventListener("unload",va,!1):f.attachEvent&&f.attachEvent("onunload",va)),C.attributes=c(function(a){return a.className="i",!a.getAttribute("className")}),C.getElementsByTagName=c(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),C.getElementsByClassName=Ga.test(F.getElementsByClassName),C.getById=c(function(a){return W.appendChild(a).id=D,!F.getElementsByName||!F.getElementsByName(D).length}),
C.getById?(w.find.ID=function(a,k){if("undefined"!=typeof k.getElementById&&Z){var f=k.getElementById(a);return f?[f]:[]}},w.filter.ID=function(a){var k=a.replace(ga,ha);return function(a){return a.getAttribute("id")===k}}):(delete w.find.ID,w.filter.ID=function(a){var k=a.replace(ga,ha);return function(a){return(a="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===k}}),w.find.TAG=C.getElementsByTagName?function(a,k){return"undefined"!=typeof k.getElementsByTagName?k.getElementsByTagName(a):
C.qsa?k.querySelectorAll(a):void 0}:function(a,k){var f,b=[],e=0,c=k.getElementsByTagName(a);if("*"===a){for(;f=c[e++];)1===f.nodeType&&b.push(f);return b}return c},w.find.CLASS=C.getElementsByClassName&&function(a,k){if("undefined"!=typeof k.getElementsByClassName&&Z)return k.getElementsByClassName(a)},xa=[],I=[],(C.qsa=Ga.test(F.querySelectorAll))&&(c(function(a){W.appendChild(a).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&
I.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||I.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+D+"-]").length||I.push("~=");a.querySelectorAll(":checked").length||I.push(":checked");a.querySelectorAll("a#"+D+"+*").length||I.push(".#.+[+~]")}),c(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
var k=F.createElement("input");k.setAttribute("type","hidden");a.appendChild(k).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&I.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled");W.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled");a.querySelectorAll("*,:x");I.push(",.*:")})),(C.matchesSelector=Ga.test(O=W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.oMatchesSelector||
W.msMatchesSelector))&&c(function(a){C.disconnectedMatch=O.call(a,"*");O.call(a,"[s!='']:x");xa.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),I=I.length&&new RegExp(I.join("|")),
xa=xa.length&&new RegExp(xa.join("|")),k=Ga.test(W.compareDocumentPosition),Ea=k||Ga.test(W.contains)?function(a,k){var f=9===a.nodeType?a.documentElement:a,b=k&&k.parentNode;return a===b||!(!b||1!==b.nodeType||!(f.contains?f.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))}:function(a,k){if(k)for(;k=k.parentNode;)if(k===a)return!0;return!1},X=k?function(a,k){if(a===k)return Da=!0,0;var f=!a.compareDocumentPosition-!k.compareDocumentPosition;return f?f:(f=(a.ownerDocument||
a)===(k.ownerDocument||k)?a.compareDocumentPosition(k):1,1&f||!C.sortDetached&&k.compareDocumentPosition(a)===f?a===F||a.ownerDocument===J&&Ea(J,a)?-1:k===F||k.ownerDocument===J&&Ea(J,k)?1:pa?wa(pa,a)-wa(pa,k):0:4&f?-1:1)}:function(a,k){if(a===k)return Da=!0,0;var f,b=0;f=a.parentNode;var e=k.parentNode,c=[a],d=[k];if(!f||!e)return a===F?-1:k===F?1:f?-1:e?1:pa?wa(pa,a)-wa(pa,k):0;if(f===e)return g(a,k);for(f=a;f=f.parentNode;)c.unshift(f);for(f=k;f=f.parentNode;)d.unshift(f);for(;c[b]===d[b];)b++;
return b?g(c[b],d[b]):c[b]===J?-1:d[b]===J?1:0},F):F};f.matches=function(a,k){return f(a,null,null,k)};f.matchesSelector=function(a,k){if((a.ownerDocument||a)!==F&&ma(a),k=k.replace(ra,"='$1']"),!(!C.matchesSelector||!Z||T[k+" "]||xa&&xa.test(k)||I&&I.test(k)))try{var b=O.call(a,k);if(b||C.disconnectedMatch||a.document&&11!==a.document.nodeType)return b}catch(e){}return 0<f(k,F,null,[a]).length};f.contains=function(a,k){return(a.ownerDocument||a)!==F&&ma(a),Ea(a,k)};f.attr=function(a,k){(a.ownerDocument||
a)!==F&&ma(a);var f=w.attrHandle[k.toLowerCase()],f=f&&da.call(w.attrHandle,k.toLowerCase())?f(a,k,!Z):void 0;return void 0!==f?f:C.attributes||!Z?a.getAttribute(k):(f=a.getAttributeNode(k))&&f.specified?f.value:null};f.escape=function(a){return(a+"").replace(ta,ua)};f.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};f.uniqueSort=function(a){var k,f=[],b=0,e=0;if(Da=!C.detectDuplicates,pa=!C.sortStable&&a.slice(0),a.sort(X),Da){for(;k=a[e++];)k===a[e]&&(b=f.push(e));for(;b--;)a.splice(f[b],
1)}return pa=null,a};oa=f.getText=function(a){var k,f="",b=0;if(k=a.nodeType)if(1===k||9===k||11===k){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)f+=oa(a)}else{if(3===k||4===k)return a.nodeValue}else for(;k=a[b++];)f+=oa(k);return f};w=f.selectors={cacheLength:50,createPseudo:e,match:ba,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace(ga,ha),a[3]=(a[3]||a[4]||a[5]||"").replace(ga,ha),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||f.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&f.error(a[0]),a},PSEUDO:function(a){var k,f=!a[6]&&a[2];return ba.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":f&&sa.test(f)&&(k=Fa(f,!0))&&(k=f.indexOf(")",f.length-k)-f.length)&&(a[0]=a[0].slice(0,
k),a[2]=f.slice(0,k)),a.slice(0,3))}},filter:{TAG:function(a){var k=a.replace(ga,ha).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===k}},CLASS:function(a){var k=aa[a+" "];return k||(k=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),aa(a,function(a){return k.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,k,b){return function(e){e=f.attr(e,
a);return null==e?"!="===k:!k||(e+="","="===k?e===b:"!="===k?e!==b:"^="===k?b&&0===e.indexOf(b):"*="===k?b&&-1<e.indexOf(b):"$="===k?b&&e.slice(-b.length)===b:"~="===k?-1<(" "+e.replace(ka," ")+" ").indexOf(b):"|="===k&&(e===b||e.slice(0,b.length+1)===b+"-"))}},CHILD:function(a,k,f,b,e){var c="nth"!==a.slice(0,3),d="last"!==a.slice(-4),g="of-type"===k;return 1===b&&0===e?function(a){return!!a.parentNode}:function(k,f,u){var q,h,E,l,R,m;f=c!==d?"nextSibling":"previousSibling";var G=k.parentNode,n=
g&&k.nodeName.toLowerCase();u=!u&&!g;var S=!1;if(G){if(c){for(;f;){for(l=k;l=l[f];)if(g?l.nodeName.toLowerCase()===n:1===l.nodeType)return!1;m=f="only"===a&&!m&&"nextSibling"}return!0}if(m=[d?G.firstChild:G.lastChild],d&&u)for(l=G,E=l[D]||(l[D]={}),h=E[l.uniqueID]||(E[l.uniqueID]={}),q=h[a]||[],S=(R=q[0]===fa&&q[1])&&q[2],l=R&&G.childNodes[R];l=++R&&l&&l[f]||(S=R=0)||m.pop();){if(1===l.nodeType&&++S&&l===k){h[a]=[fa,R,S];break}}else if(u&&(l=k,E=l[D]||(l[D]={}),h=E[l.uniqueID]||(E[l.uniqueID]={}),
q=h[a]||[],R=q[0]===fa&&q[1],S=R),!1===S)for(;(l=++R&&l&&l[f]||(S=R=0)||m.pop())&&((g?l.nodeName.toLowerCase()!==n:1!==l.nodeType)||!++S||(u&&(E=l[D]||(l[D]={}),h=E[l.uniqueID]||(E[l.uniqueID]={}),h[a]=[fa,S]),l!==k)););return S-=e,S===b||0===S%b&&0<=S/b}}},PSEUDO:function(a,k){var b,c=w.pseudos[a]||w.setFilters[a.toLowerCase()]||f.error("unsupported pseudo: "+a);return c[D]?c(k):1<c.length?(b=[a,a,"",k],w.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,f){for(var b,e=c(a,k),d=e.length;d--;)b=
wa(a,e[d]),a[b]=!(f[b]=e[d])}):function(a){return c(a,0,b)}):c}},pseudos:{not:e(function(a){var k=[],f=[],b=Q(a.replace(Y,"$1"));return b[D]?e(function(a,k,f,e){var c;f=b(a,null,e,[]);for(e=a.length;e--;)(c=f[e])&&(a[e]=!(k[e]=c))}):function(a,e,c){return k[0]=a,b(k,null,c,f),k[0]=null,!f.pop()}}),has:e(function(a){return function(k){return 0<f(a,k).length}}),contains:e(function(a){return a=a.replace(ga,ha),function(k){return-1<(k.textContent||k.innerText||oa(k)).indexOf(a)}}),lang:e(function(a){return ya.test(a||
"")||f.error("unsupported lang: "+a),a=a.replace(ga,ha).toLowerCase(),function(k){var f;do if(f=Z?k.lang:k.getAttribute("xml:lang")||k.getAttribute("lang"))return f=f.toLowerCase(),f===a||0===f.indexOf(a+"-");while((k=k.parentNode)&&1===k.nodeType);return!1}}),target:function(f){var b=a.location&&a.location.hash;return b&&b.slice(1)===f.id},root:function(a){return a===W},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:m(!1),disabled:m(!0),
checked:function(a){var k=a.nodeName.toLowerCase();return"input"===k&&!!a.checked||"option"===k&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return Aa.test(a.nodeName)},input:function(a){return za.test(a.nodeName)},button:function(a){var k=a.nodeName.toLowerCase();return"input"===k&&"button"===
a.type||"button"===k},text:function(a){var k;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(k=a.getAttribute("type"))||"text"===k.toLowerCase())},first:n(function(){return[0]}),last:n(function(a,k){return[k-1]}),eq:n(function(a,k,f){return[0>f?f+k:f]}),even:n(function(a,k){for(var f=0;f<k;f+=2)a.push(f);return a}),odd:n(function(a,k){for(var f=1;f<k;f+=2)a.push(f);return a}),lt:n(function(a,k,f){for(k=0>f?f+k:f;0<=--k;)a.push(k);return a}),gt:n(function(a,k,f){for(f=0>f?f+k:f;++f<
k;)a.push(f);return a})}};w.pseudos.nth=w.pseudos.eq;for(K in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[K]=h(K);for(K in{submit:!0,reset:!0})w.pseudos[K]=l(K);y.prototype=w.filters=w.pseudos;w.setFilters=new y;Fa=f.tokenize=function(a,k){var b,e,c,d,g,u,q;if(g=V[a+" "])return k?0:g.slice(0);g=a;u=[];for(q=w.preFilter;g;){b&&!(e=la.exec(g))||(e&&(g=g.slice(e[0].length)||g),u.push(c=[]));b=!1;(e=qa.exec(g))&&(b=e.shift(),c.push({value:b,type:e[0].replace(Y," ")}),g=g.slice(b.length));
for(d in w.filter)!(e=ba[d].exec(g))||q[d]&&!(e=q[d](e))||(b=e.shift(),c.push({value:b,type:d,matches:e}),g=g.slice(b.length));if(!b)break}return k?g.length:g?f.error(a):V(a,u).slice(0)};return Q=f.compile=function(a,k){var f,b=[],e=[],c=T[a+" "];if(!c){k||(k=Fa(a));for(f=k.length;f--;)c=B(k[f]),c[D]?b.push(c):e.push(c);c=T(a,P(e,b));c.selector=a}return c},H=f.select=function(a,k,f,b){var e,c,d,g,u,q="function"==typeof a&&a,h=!b&&Fa(a=q.selector||a);if(f=f||[],1===h.length){if(c=h[0]=h[0].slice(0),
2<c.length&&"ID"===(d=c[0]).type&&C.getById&&9===k.nodeType&&Z&&w.relative[c[1].type]){if(k=(w.find.ID(d.matches[0].replace(ga,ha),k)||[])[0],!k)return f;q&&(k=k.parentNode);a=a.slice(c.shift().value.length)}for(e=ba.needsContext.test(a)?0:c.length;e--&&(d=c[e],!w.relative[g=d.type]);)if((u=w.find[g])&&(b=u(d.matches[0].replace(ga,ha),ja.test(c[0].type)&&p(k.parentNode)||k))){if(c.splice(e,1),a=b.length&&r(c),!a)return na.apply(f,b),f;break}}return(q||Q(a,h))(b,k,!Z,f,!k||ja.test(a)&&p(k.parentNode)||
k),f},C.sortStable=D.split("").sort(X).join("")===D,C.detectDuplicates=!!Da,ma(),C.sortDetached=c(function(a){return 1&a.compareDocumentPosition(F.createElement("fieldset"))}),c(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,k,f){if(!f)return a.getAttribute(k,"type"===k.toLowerCase()?1:2)}),C.attributes&&c(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||
d("value",function(a,k,f){if(!f&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),c(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,k,f){var b;if(!f)return!0===a[k]?k.toLowerCase():(b=a.getAttributeNode(k))&&b.specified?b.value:null}),f}(a);e.find=ia;e.expr=ia.selectors;e.expr[":"]=e.expr.pseudos;e.uniqueSort=e.unique=ia.uniqueSort;e.text=ia.getText;
e.isXMLDoc=ia.isXML;e.contains=ia.contains;e.escapeSelector=ia.escape;var qa=function(a,f,b){for(var c=[],d=void 0!==b;(a=a[f])&&9!==a.nodeType;)if(1===a.nodeType){if(d&&e(a).is(b))break;c.push(a)}return c},ub=function(a,f){for(var b=[];a;a=a.nextSibling)1===a.nodeType&&a!==f&&b.push(a);return b},vb=e.expr.match.needsContext,wb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Kb=/^.[^:#\[\.,]*$/;e.filter=function(a,f,b){var c=f[0];return b&&(a=":not("+a+")"),1===f.length&&1===c.nodeType?
e.find.matchesSelector(c,a)?[c]:[]:e.find.matches(a,e.grep(f,function(a){return 1===a.nodeType}))};e.fn.extend({find:function(a){var f,b,c=this.length,d=this;if("string"!=typeof a)return this.pushStack(e(a).filter(function(){for(f=0;f<c;f++)if(e.contains(d[f],this))return!0}));b=this.pushStack([]);for(f=0;f<c;f++)e.find(a,d[f],b);return 1<c?e.uniqueSort(b):b},filter:function(a){return this.pushStack(g(this,a||[],!1))},not:function(a){return this.pushStack(g(this,a||[],!0))},is:function(a){return!!g(this,
"string"==typeof a&&vb.test(a)?e(a):a||[],!1).length}});var xb,ac=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(e.fn.init=function(a,f,b){var c,d;if(!a)return this;if(b=b||xb,"string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:ac.exec(a),!c||!c[1]&&f)return!f||f.jquery?(f||b).find(a):this.constructor(f).find(a);if(c[1]){if(f=f instanceof e?f[0]:f,e.merge(this,e.parseHTML(c[1],f&&f.nodeType?f.ownerDocument||f:v,!0)),wb.test(c[1])&&e.isPlainObject(f))for(c in f)e.isFunction(this[c])?
this[c](f[c]):this.attr(c,f[c]);return this}return d=v.getElementById(c[2]),d&&(this[0]=d,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):e.isFunction(a)?void 0!==b.ready?b.ready(a):a(e):e.makeArray(a,this)}).prototype=e.fn;xb=e(v);var bc=/^(?:parents|prev(?:Until|All))/,cc={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({has:function(a){var f=e(a,this),b=f.length;return this.filter(function(){for(var a=0;a<b;a++)if(e.contains(this,f[a]))return!0})},closest:function(a,f){var b,
c=0,d=this.length,g=[],h="string"!=typeof a&&e(a);if(!vb.test(a))for(;c<d;c++)for(b=this[c];b&&b!==f;b=b.parentNode)if(11>b.nodeType&&(h?-1<h.index(b):1===b.nodeType&&e.find.matchesSelector(b,a))){g.push(b);break}return this.pushStack(1<g.length?e.uniqueSort(g):g)},index:function(a){return a?"string"==typeof a?Aa.call(e(a),this[0]):Aa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,f){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(a,
f))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});e.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return qa(a,"parentNode")},parentsUntil:function(a,f,b){return qa(a,"parentNode",b)},next:function(a){return h(a,"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return qa(a,"nextSibling")},prevAll:function(a){return qa(a,"previousSibling")},nextUntil:function(a,f,b){return qa(a,
"nextSibling",b)},prevUntil:function(a,f,b){return qa(a,"previousSibling",b)},siblings:function(a){return ub((a.parentNode||{}).firstChild,a)},children:function(a){return ub(a.firstChild)},contents:function(a){return a.contentDocument||e.merge([],a.childNodes)}},function(a,f){e.fn[a]=function(b,c){var d=e.map(this,f,b);return"Until"!==a.slice(-5)&&(c=b),c&&"string"==typeof c&&(d=e.filter(c,d)),1<this.length&&(cc[a]||e.uniqueSort(d),bc.test(a)&&d.reverse()),this.pushStack(d)}});var N=/\S+/g;e.Callbacks=
function(a){a="string"==typeof a?m(a):e.extend({},a);var f,b,c,d,g=[],h=[],l=-1,n=function(){d=a.once;for(c=f=!0;h.length;l=-1)for(b=h.shift();++l<g.length;)!1===g[l].apply(b[0],b[1])&&a.stopOnFalse&&(l=g.length,b=!1);a.memory||(b=!1);f=!1;d&&(g=b?[]:"")},p={add:function(){return g&&(b&&!f&&(l=g.length-1,h.push(b)),function A(f){e.each(f,function(f,b){e.isFunction(b)?a.unique&&p.has(b)||g.push(b):b&&b.length&&"string"!==e.type(b)&&A(b)})}(arguments),b&&!f&&n()),this},remove:function(){return e.each(arguments,
function(a,k){for(var f;-1<(f=e.inArray(k,g,f));)g.splice(f,1),f<=l&&l--}),this},has:function(a){return a?-1<e.inArray(a,g):0<g.length},empty:function(){return g&&(g=[]),this},disable:function(){return d=h=[],g=b="",this},disabled:function(){return!g},lock:function(){return d=h=[],b||f||(g=b=""),this},locked:function(){return!!d},fireWith:function(a,k){return d||(k=k||[],k=[a,k.slice?k.slice():k],h.push(k),f||n()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!c}};
return p};e.extend({Deferred:function(k){var f=[["notify","progress",e.Callbacks("memory"),e.Callbacks("memory"),2],["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),0,"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),1,"rejected"]],b="pending",c={state:function(){return b},always:function(){return d.done(arguments).fail(arguments),this},"catch":function(a){return c.then(null,a)},pipe:function(){var a=arguments;return e.Deferred(function(k){e.each(f,
function(f,b){var c=e.isFunction(a[b[4]])&&a[b[4]];d[b[1]](function(){var a=c&&c.apply(this,arguments);a&&e.isFunction(a.promise)?a.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[b[0]+"With"](this,c?[a]:arguments)})});a=null}).promise()},then:function(k,b,c){function d(k,f,b,c){return function(){var u=this,h=arguments,q=function(){var a,q;if(!(k<g)){if(a=b.apply(u,h),a===f.promise())throw new TypeError("Thenable self-resolution");q=a&&("object"==typeof a||"function"==typeof a)&&a.then;
e.isFunction(q)?c?q.call(a,d(g,f,l,c),d(g,f,n,c)):(g++,q.call(a,d(g,f,l,c),d(g,f,n,c),d(g,f,l,f.notifyWith))):(b!==l&&(u=void 0,h=[a]),(c||f.resolveWith)(u,h))}},E=c?q:function(){try{q()}catch(a){e.Deferred.exceptionHook&&e.Deferred.exceptionHook(a,E.stackTrace),k+1>=g&&(b!==n&&(u=void 0,h=[a]),f.rejectWith(u,h))}};k?E():(e.Deferred.getStackHook&&(E.stackTrace=e.Deferred.getStackHook()),a.setTimeout(E))}}var g=0;return e.Deferred(function(a){f[0][3].add(d(0,a,e.isFunction(c)?c:l,a.notifyWith));f[1][3].add(d(0,
a,e.isFunction(k)?k:l));f[2][3].add(d(0,a,e.isFunction(b)?b:n))}).promise()},promise:function(a){return null!=a?e.extend(a,c):c}},d={};return e.each(f,function(a,k){var e=k[2],g=k[5];c[k[1]]=e.add;g&&e.add(function(){b=g},f[3-a][2].disable,f[0][2].lock);e.add(k[3].fire);d[k[0]]=function(){return d[k[0]+"With"](this===d?void 0:this,arguments),this};d[k[0]+"With"]=e.fireWith}),c.promise(d),k&&k.call(d,d),d},when:function(a){var f=arguments.length,b=f,c=Array(b),d=ea.call(arguments),g=e.Deferred(),h=
function(a){return function(k){c[a]=this;d[a]=1<arguments.length?ea.call(arguments):k;--f||g.resolveWith(c,d)}};if(1>=f&&(p(a,g.done(h(b)).resolve,g.reject),"pending"===g.state()||e.isFunction(d[b]&&d[b].then)))return g.then();for(;b--;)p(d[b],h(b),g.reject);return g.promise()}});var dc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;e.Deferred.exceptionHook=function(k,f){a.console&&a.console.warn&&k&&dc.test(k.name)&&a.console.warn("jQuery.Deferred exception: "+k.message,k.stack,f)};e.readyException=
function(k){a.setTimeout(function(){throw k;})};var Qa=e.Deferred();e.fn.ready=function(a){return Qa.then(a)["catch"](function(a){e.readyException(a)}),this};e.extend({isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){(!0===a?--e.readyWait:e.isReady)||(e.isReady=!0,!0!==a&&0<--e.readyWait||Qa.resolveWith(v,[e]))}});e.ready.then=Qa.then;"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?a.setTimeout(e.ready):(v.addEventListener("DOMContentLoaded",
t),a.addEventListener("load",t));var T=function(a,f,b,c,d,g,h){var l=0,m=a.length,n=null==b;if("object"===e.type(b))for(l in d=!0,b)T(a,f,l,b[l],!0,g,h);else if(void 0!==c&&(d=!0,e.isFunction(c)||(h=!0),n&&(h?(f.call(a,c),f=null):(n=f,f=function(a,k,f){return n.call(e(a),f)})),f))for(;l<m;l++)f(a[l],b,h?c:c.call(a[l],l,f(a[l],b)));return d?a:n?f.call(a):m?f(a[0],b):g},Ha=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};B.uid=1;B.prototype={cache:function(a){var f=a[this.expando];return f||
(f={},Ha(a)&&(a.nodeType?a[this.expando]=f:Object.defineProperty(a,this.expando,{value:f,configurable:!0}))),f},set:function(a,f,b){var c;a=this.cache(a);if("string"==typeof f)a[e.camelCase(f)]=b;else for(c in f)a[e.camelCase(c)]=f[c];return a},get:function(a,f){return void 0===f?this.cache(a):a[this.expando]&&a[this.expando][e.camelCase(f)]},access:function(a,f,b){return void 0===f||f&&"string"==typeof f&&void 0===b?this.get(a,f):(this.set(a,f,b),void 0!==b?b:f)},remove:function(a,f){var b,c=a[this.expando];
if(void 0!==c){if(void 0!==f)for(e.isArray(f)?f=f.map(e.camelCase):(f=e.camelCase(f),f=f in c?[f]:f.match(N)||[]),b=f.length;b--;)delete c[f[b]];(void 0===f||e.isEmptyObject(c))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!e.isEmptyObject(a)}};var z=new B,P=new B,Mb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lb=/[A-Z]/g;e.extend({hasData:function(a){return P.hasData(a)||z.hasData(a)},data:function(a,f,b){return P.access(a,f,b)},removeData:function(a,
f){P.remove(a,f)},_data:function(a,f,b){return z.access(a,f,b)},_removeData:function(a,b){z.remove(a,b)}});e.fn.extend({data:function(a,b){var c,d,g,h=this[0],l=h&&h.attributes;if(void 0===a){if(this.length&&(g=P.get(h),1===h.nodeType&&!z.get(h,"hasDataAttrs"))){for(c=l.length;c--;)l[c]&&(d=l[c].name,0===d.indexOf("data-")&&(d=e.camelCase(d.slice(5)),aa(h,d,g[d])));z.set(h,"hasDataAttrs",!0)}return g}return"object"==typeof a?this.each(function(){P.set(this,a)}):T(this,function(b){var f;if(h&&void 0===
b){if((f=P.get(h,a),void 0!==f)||(f=aa(h,a),void 0!==f))return f}else this.each(function(){P.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){P.remove(this,a)})}});e.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=z.get(a,b),c&&(!d||e.isArray(c)?d=z.access(a,b,e.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=e.queue(a,b),d=c.length,g=c.shift(),h=e._queueHooks(a,b),l=function(){e.dequeue(a,b)};"inprogress"===
g&&(g=c.shift(),d--);g&&("fx"===b&&c.unshift("inprogress"),delete h.stop,g.call(a,l,h));!d&&h&&h.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return z.get(a,c)||z.access(a,c,{empty:e.Callbacks("once memory").add(function(){z.remove(a,[b+"queue",c])})})}});e.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?e.queue(this[0],a):void 0===b?this:this.each(function(){var c=e.queue(this,a,b);e._queueHooks(this,a);"fx"===a&&"inprogress"!==
c[0]&&e.dequeue(this,a)})},dequeue:function(a){return this.each(function(){e.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,g=e.Deferred(),h=this,l=this.length,m=function(){--d||g.resolveWith(h,[h])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";l--;)(c=z.get(h[l],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(m));return m(),g.promise(b)}});var yb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ra=new RegExp("^(?:([+-])=|)("+yb+")([a-z%]*)$",
"i"),X=["Top","Right","Bottom","Left"],Ba=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&e.contains(a.ownerDocument,a)&&"none"===e.css(a,"display")},zb=function(a,b,c,e){var d,g={};for(d in b)g[d]=a.style[d],a.style[d]=b[d];c=c.apply(a,e||[]);for(d in b)a.style[d]=g[d];return c},Va={};e.fn.extend({show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ba(this)?e(this).show():
e(this).hide()})}});var Ab=/^(?:checkbox|radio)$/i,Xa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ya=/^$|\/(?:java|ecma)script/i,H={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};H.optgroup=H.option;H.tbody=H.tfoot=H.colgroup=H.caption=H.thead;H.th=H.td;var Nb=/<|&#?\w+;/;!function(){var a=v.createDocumentFragment().appendChild(v.createElement("div")),
b=v.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);x.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";x.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();var Ia=v.documentElement,ec=/^key/,fc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Bb=/^([^.]*)(?:\.(.+)|)/;e.event={global:{},add:function(a,b,c,d,g){var h,l,m,n,p,t,A,y,r,v;if(p=z.get(a))for(c.handler&&
(h=c,c=h.handler,g=h.selector),g&&e.find.matchesSelector(Ia,g),c.guid||(c.guid=e.guid++),(n=p.events)||(n=p.events={}),(l=p.handle)||(l=p.handle=function(b){return"undefined"!=typeof e&&e.event.triggered!==b.type?e.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(N)||[""],p=b.length;p--;)m=Bb.exec(b[p])||[],r=v=m[1],m=(m[2]||"").split(".").sort(),r&&(A=e.event.special[r]||{},r=(g?A.delegateType:A.bindType)||r,A=e.event.special[r]||{},t=e.extend({type:r,origType:v,data:d,handler:c,guid:c.guid,
selector:g,needsContext:g&&e.expr.match.needsContext.test(g),namespace:m.join(".")},h),(y=n[r])||(y=n[r]=[],y.delegateCount=0,A.setup&&!1!==A.setup.call(a,d,m,l)||a.addEventListener&&a.addEventListener(r,l)),A.add&&(A.add.call(a,t),t.handler.guid||(t.handler.guid=c.guid)),g?y.splice(y.delegateCount++,0,t):y.push(t),e.event.global[r]=!0)},remove:function(a,b,c,d,g){var h,l,m,n,p,t,A,y,r,v,x,B=z.hasData(a)&&z.get(a);if(B&&(n=B.events)){b=(b||"").match(N)||[""];for(p=b.length;p--;)if(m=Bb.exec(b[p])||
[],r=x=m[1],v=(m[2]||"").split(".").sort(),r){A=e.event.special[r]||{};r=(d?A.delegateType:A.bindType)||r;y=n[r]||[];m=m[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=h=y.length;h--;)t=y[h],!g&&x!==t.origType||c&&c.guid!==t.guid||m&&!m.test(t.namespace)||d&&d!==t.selector&&("**"!==d||!t.selector)||(y.splice(h,1),t.selector&&y.delegateCount--,A.remove&&A.remove.call(a,t));l&&!y.length&&(A.teardown&&!1!==A.teardown.call(a,v,B.handle)||e.removeEvent(a,r,B.handle),delete n[r])}else for(r in n)e.event.remove(a,
r+b[p],c,d,!0);e.isEmptyObject(n)&&z.remove(a,"handle events")}},dispatch:function(a){var b=e.event.fix(a),c,d,g,h,l,m,n=Array(arguments.length);d=(z.get(this,"events")||{})[b.type]||[];var p=e.event.special[b.type]||{};n[0]=b;for(c=1;c<arguments.length;c++)n[c]=arguments[c];if(b.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,b)){m=e.event.handlers.call(this,b,d);for(c=0;(h=m[c++])&&!b.isPropagationStopped();)for(b.currentTarget=h.elem,d=0;(l=h.handlers[d++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&
!b.rnamespace.test(l.namespace)||(b.handleObj=l,b.data=l.data,g=((e.event.special[l.origType]||{}).handle||l.handler).apply(h.elem,n),void 0!==g&&!1===(b.result=g)&&(b.preventDefault(),b.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,g,h,l=[],m=b.delegateCount,n=a.target;if(m&&n.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;n!==this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==a.type)){d=[];for(c=
0;c<m;c++)h=b[c],g=h.selector+" ",void 0===d[g]&&(d[g]=h.needsContext?-1<e(g,this).index(n):e.find(g,this,null,[n]).length),d[g]&&d.push(h);d.length&&l.push({elem:n,handlers:d})}return m<b.length&&l.push({elem:this,handlers:b.slice(m)}),l},addProp:function(a,b){Object.defineProperty(e.Event.prototype,a,{enumerable:!0,configurable:!0,get:e.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,
a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[e.expando]?a:new e.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Za()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Za()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&e.nodeName(this,"input"))return this.click(),!1},_default:function(a){return e.nodeName(a.target,
"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};e.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};e.Event=function(a,b){return this instanceof e.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?ja:ca,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,
this.relatedTarget=a.relatedTarget):this.type=a,b&&e.extend(this,b),this.timeStamp=a&&a.timeStamp||e.now(),void(this[e.expando]=!0)):new e.Event(a,b)};e.Event.prototype={constructor:e.Event,isDefaultPrevented:ca,isPropagationStopped:ca,isImmediatePropagationStopped:ca,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ja;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ja;a&&!this.isSimulated&&
a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ja;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,
toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&ec.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&fc.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},e.event.addProp);e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){e.event.special[a]={delegateType:b,bindType:b,handle:function(a){var k,c=a.relatedTarget,d=a.handleObj;return c&&(c===this||e.contains(this,c))||(a.type=d.origType,
k=d.handler.apply(this,arguments),a.type=b),k}}});e.fn.extend({on:function(a,b,c,e){return Ka(this,a,b,c,e)},one:function(a,b,c,e){return Ka(this,a,b,c,e,1)},off:function(a,b,c){var d,g;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,e(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(g in a)this.off(g,b,a[g]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=ca),this.each(function(){e.event.remove(this,
a,c,b)})}});var gc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,hc=/<script|<style|<link/i,Rb=/checked\s*(?:[^=]|=\s*.checked.)/i,Qb=/^true\/(.*)/,Sb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;e.extend({htmlPrefilter:function(a){return a.replace(gc,"<$1></$2>")},clone:function(a,b,c){var d,g,h,l,m=a.cloneNode(!0),n=e.contains(a.ownerDocument,a);if(!(x.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||e.isXMLDoc(a)))for(l=K(m),h=K(a),d=0,g=h.length;d<
g;d++){var p=h[d],t=l[d],A=t.nodeName.toLowerCase();"input"===A&&Ab.test(p.type)?t.checked=p.checked:"input"!==A&&"textarea"!==A||(t.defaultValue=p.defaultValue)}if(b)if(c)for(h=h||K(a),l=l||K(m),d=0,g=h.length;d<g;d++)ab(h[d],l[d]);else ab(a,m);return l=K(m,"script"),0<l.length&&Ja(l,!n&&K(a,"script")),m},cleanData:function(a){for(var b,c,d,g=e.event.special,h=0;void 0!==(c=a[h]);h++)if(Ha(c)){if(b=c[z.expando]){if(b.events)for(d in b.events)g[d]?e.event.remove(c,d):e.removeEvent(c,d,b.handle);c[z.expando]=
void 0}c[P.expando]&&(c[P.expando]=void 0)}}});e.fn.extend({detach:function(a){return cb(this,a,!0)},remove:function(a){return cb(this,a)},text:function(a){return T(this,function(a){return void 0===a?e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ka(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||$a(this,a).appendChild(a)})},prepend:function(){return ka(this,
arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=$a(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ka(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ka(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(e.cleanData(K(a,!1)),a.textContent="");return this},clone:function(a,
b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return e.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,k=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!hc.test(a)&&!H[(Xa.exec(a)||["",""])[1].toLowerCase()]){a=e.htmlPrefilter(a);try{for(;c<k;c++)b=this[c]||{},1===b.nodeType&&(e.cleanData(K(b,!1)),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ka(this,
arguments,function(b){var c=this.parentNode;0>e.inArray(this,a)&&(e.cleanData(K(this)),c&&c.replaceChild(b,this))},a)}});e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){e.fn[a]=function(a){for(var c=[],k=e(a),d=k.length-1,g=0;g<=d;g++)a=g===d?this:this.clone(!0),e(k[g])[b](a),Pa.apply(c,a.get());return this.pushStack(c)}});var db=/^margin/,La=new RegExp("^("+yb+")(?!px)[a-z%]+$","i"),ta=function(b){var f=b.ownerDocument.defaultView;
return f&&f.opener||(f=a),f.getComputedStyle(b)};!function(){function b(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";l.innerHTML="";Ia.appendChild(h);var k=a.getComputedStyle(l);f="1%"!==k.top;g="2px"===k.marginLeft;c="4px"===k.width;l.style.marginRight="50%";d="4px"===k.marginRight;Ia.removeChild(h);l=null}}var f,c,d,g,h=v.createElement("div"),l=v.createElement("div");l.style&&(l.style.backgroundClip="content-box",
l.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle="content-box"===l.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(l),e.extend(x,{pixelPosition:function(){return b(),f},boxSizingReliable:function(){return b(),c},pixelMarginRight:function(){return b(),d},reliableMarginLeft:function(){return b(),g}}))}();var ic=/^(none|table(?!-c[ea]).+)/,jc={position:"absolute",visibility:"hidden",display:"block"},
Cb={letterSpacing:"0",fontWeight:"400"},hb=["Webkit","Moz","ms"],gb=v.createElement("div").style;e.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=sa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,h,l,m=e.camelCase(b),
n=a.style;return b=e.cssProps[m]||(e.cssProps[m]=fb(m)||m),l=e.cssHooks[b]||e.cssHooks[m],void 0===c?l&&"get"in l&&void 0!==(g=l.get(a,!1,d))?g:n[b]:(h=typeof c,"string"===h&&(g=ra.exec(c))&&g[1]&&(c=V(a,b,g),h="number"),null!=c&&c===c&&("number"===h&&(c+=g&&g[3]||(e.cssNumber[m]?"":"px")),x.clearCloneStyle||""!==c||0!==b.indexOf("background")||(n[b]="inherit"),l&&"set"in l&&void 0===(c=l.set(a,c,d))||(n[b]=c)),void 0)}},css:function(a,b,c,d){var g,h,l,m=e.camelCase(b);return b=e.cssProps[m]||(e.cssProps[m]=
fb(m)||m),l=e.cssHooks[b]||e.cssHooks[m],l&&"get"in l&&(g=l.get(a,!0,c)),void 0===g&&(g=sa(a,b,d)),"normal"===g&&b in Cb&&(g=Cb[b]),""===c||c?(h=parseFloat(g),!0===c||isFinite(h)?h||0:g):g}});e.each(["height","width"],function(a,b){e.cssHooks[b]={get:function(a,c,k){if(c)return!ic.test(e.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?kb(a,b,k):zb(a,jc,function(){return kb(a,b,k)})},set:function(a,c,k){var d,g=k&&ta(a);k=k&&jb(a,b,k,"border-box"===e.css(a,"boxSizing",
!1,g),g);return k&&(d=ra.exec(c))&&"px"!==(d[3]||"px")&&(a.style[b]=c,c=e.css(a,b)),ib(a,c,k)}}});e.cssHooks.marginLeft=eb(x.reliableMarginLeft,function(a,b){if(b)return(parseFloat(sa(a,"marginLeft"))||a.getBoundingClientRect().left-zb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});e.each({margin:"",padding:"",border:"Width"},function(a,b){e.cssHooks[a+b]={expand:function(c){var e=0,d={};for(c="string"==typeof c?c.split(" "):[c];4>e;e++)d[a+X[e]+b]=c[e]||c[e-2]||c[0];
return d}};db.test(a)||(e.cssHooks[a+b].set=ib)});e.fn.extend({css:function(a,b){return T(this,function(a,b,c){var f,k={},d=0;if(e.isArray(b)){c=ta(a);for(f=b.length;d<f;d++)k[b[d]]=e.css(a,b[d],!1,c);return k}return void 0!==c?e.style(a,b,c):e.css(a,b)},a,b,1<arguments.length)}});e.Tween=Q;Q.prototype={constructor:Q,init:function(a,b,c,d,g,h){this.elem=a;this.prop=c;this.easing=g||e.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=h||(e.cssNumber[c]?"":"px")},cur:function(){var a=
Q.propHooks[this.prop];return a&&a.get?a.get(this):Q.propHooks._default.get(this)},run:function(a){var b,c=Q.propHooks[this.prop];return this.options.duration?this.pos=b=e.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Q.propHooks._default.set(this),this}};Q.prototype.init.prototype=Q.prototype;Q.propHooks={_default:{get:function(a){var b;
return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=e.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){e.fx.step[a.prop]?e.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[e.cssProps[a.prop]]&&!e.cssHooks[a.prop]?a.elem[a.prop]=a.now:e.style(a.elem,a.prop,a.now+a.unit)}}};Q.propHooks.scrollTop=Q.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};e.easing={linear:function(a){return a},swing:function(a){return.5-
Math.cos(a*Math.PI)/2},_default:"swing"};e.fx=Q.prototype.init;e.fx.step={};var la,Y,kc=/^(?:toggle|show|hide)$/,lc=/queueHooks$/;e.Animation=e.extend(U,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return V(c.elem,a,ra.exec(b),c),c}]},tweener:function(a,b){e.isFunction(a)?(b=a,a=["*"]):a=a.match(N);for(var c,d=0,g=a.length;d<g;d++)c=a[d],U.tweeners[c]=U.tweeners[c]||[],U.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,g,h,l,m,n,p,t,A="width"in b||"height"in b,y=this,r={},v=
a.style,B=a.nodeType&&Ba(a),x=z.get(a,"fxshow");c.queue||(l=e._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,y.always(function(){y.always(function(){l.unqueued--;e.queue(a,"fx").length||l.empty.fire()})}));for(d in b)if(g=b[d],kc.test(g)){if(delete b[d],h=h||"toggle"===g,g===(B?"hide":"show")){if("show"!==g||!x||void 0===x[d])continue;B=!0}r[d]=x&&x[d]||e.style(a,d)}if(n=!e.isEmptyObject(b),n||!e.isEmptyObject(r))for(d in A&&
1===a.nodeType&&(c.overflow=[v.overflow,v.overflowX,v.overflowY],p=x&&x.display,null==p&&(p=z.get(a,"display")),t=e.css(a,"display"),"none"===t&&(p?t=p:(O([a],!0),p=a.style.display||p,t=e.css(a,"display"),O([a]))),("inline"===t||"inline-block"===t&&null!=p)&&"none"===e.css(a,"float")&&(n||(y.done(function(){v.display=p}),null==p&&(t=v.display,p="none"===t?"":t)),v.display="inline-block")),c.overflow&&(v.overflow="hidden",y.always(function(){v.overflow=c.overflow[0];v.overflowX=c.overflow[1];v.overflowY=
c.overflow[2]})),n=!1,r)n||(x?"hidden"in x&&(B=x.hidden):x=z.access(a,"fxshow",{display:p}),h&&(x.hidden=!B),B&&O([a],!0),y.done(function(){B||O([a]);z.remove(a,"fxshow");for(d in r)e.style(a,d,r[d])})),n=nb(B?x[d]:0,d,y),d in x||(x[d]=n.start,B&&(n.end=n.start,n.start=0))}],prefilter:function(a,b){b?U.prefilters.unshift(a):U.prefilters.push(a)}});e.speed=function(a,b,c){var d=a&&"object"==typeof a?e.extend({},a):{complete:c||!c&&b||e.isFunction(a)&&a,duration:a,easing:c&&b||b&&!e.isFunction(b)&&
b};return e.fx.off||v.hidden?d.duration=0:d.duration="number"==typeof d.duration?d.duration:d.duration in e.fx.speeds?e.fx.speeds[d.duration]:e.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){e.isFunction(d.old)&&d.old.call(this);d.queue&&e.dequeue(this,d.queue)},d};e.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ba).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var g=e.isEmptyObject(a),h=e.speed(b,
c,d);b=function(){var b=U(this,e.extend({},a),h);(g||z.get(this,"finish"))&&b.stop(!0)};return b.finish=b,g||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,f=null!=a&&a+"queueHooks",g=e.timers,h=z.get(this);if(f)h[f]&&h[f].stop&&d(h[f]);else for(f in h)h[f]&&h[f].stop&&lc.test(f)&&d(h[f]);for(f=g.length;f--;)g[f].elem!==
this||null!=a&&g[f].queue!==a||(g[f].anim.stop(c),b=!1,g.splice(f,1));!b&&c||e.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=z.get(this),d=c[a+"queue"];b=c[a+"queueHooks"];var g=e.timers,h=d?d.length:0;c.finish=!0;e.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<h;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});e.each(["toggle","show",
"hide"],function(a,b){var c=e.fn[b];e.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(ua(b,!0),a,d,e)}});e.each({slideDown:ua("show"),slideUp:ua("hide"),slideToggle:ua("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){e.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});e.timers=[];e.fx.tick=function(){var a,b=0,c=e.timers;for(la=e.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||
e.fx.stop();la=void 0};e.fx.timer=function(a){e.timers.push(a);a()?e.fx.start():e.timers.pop()};e.fx.interval=13;e.fx.start=function(){Y||(Y=a.requestAnimationFrame?a.requestAnimationFrame(lb):a.setInterval(e.fx.tick,e.fx.interval))};e.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame(Y):a.clearInterval(Y);Y=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fn.delay=function(b,c){return b=e.fx?e.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,f){var d=a.setTimeout(c,b);f.stop=
function(){a.clearTimeout(d)}})};(function(){var a=v.createElement("input"),b=v.createElement("select").appendChild(v.createElement("option"));a.type="checkbox";x.checkOn=""!==a.value;x.optSelected=b.selected;a=v.createElement("input");a.value="t";a.type="radio";x.radioValue="t"===a.value})();var Db,ya=e.expr.attrHandle;e.fn.extend({attr:function(a,b){return T(this,e.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){e.removeAttr(this,a)})}});e.extend({attr:function(a,
b,c){var d,g,h=a.nodeType;if(3!==h&&8!==h&&2!==h)return"undefined"==typeof a.getAttribute?e.prop(a,b,c):(1===h&&e.isXMLDoc(a)||(g=e.attrHooks[b.toLowerCase()]||(e.expr.match.bool.test(b)?Db:void 0)),void 0!==c?null===c?void e.removeAttr(a,b):g&&"set"in g&&void 0!==(d=g.set(a,c,b))?d:(a.setAttribute(b,c+""),c):g&&"get"in g&&null!==(d=g.get(a,b))?d:(d=e.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!x.radioValue&&"radio"===b&&e.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",
b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(N);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}});Db={set:function(a,b,c){return!1===b?e.removeAttr(a,c):a.setAttribute(c,c),c}};e.each(e.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ya[b]||e.find.attr;ya[b]=function(a,b,f){var d,e,g=b.toLowerCase();return f||(e=ya[g],ya[g]=d,d=null!=c(a,b,f)?g:null,ya[g]=e),d}});var mc=/^(?:input|select|textarea|button)$/i,nc=/^(?:a|area)$/i;e.fn.extend({prop:function(a,
b){return T(this,e.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[e.propFix[a]||a]})}});e.extend({prop:function(a,b,c){var d,g,h=a.nodeType;if(3!==h&&8!==h&&2!==h)return 1===h&&e.isXMLDoc(a)||(b=e.propFix[b]||b,g=e.propHooks[b]),void 0!==c?g&&"set"in g&&void 0!==(d=g.set(a,c,b))?d:a[b]=c:g&&"get"in g&&null!==(d=g.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=e.find.attr(a,"tabindex");return b?parseInt(b,10):mc.test(a.nodeName)||nc.test(a.nodeName)&&
a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});x.optSelected||(e.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});e.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){e.propFix[this.toLowerCase()]=this});var Ra=/[\t\r\n\f]/g;e.fn.extend({addClass:function(a){var b,
c,d,g,h,l,m=0;if(e.isFunction(a))return this.each(function(b){e(this).addClass(a.call(this,b,da(this)))});if("string"==typeof a&&a)for(b=a.match(N)||[];c=this[m++];)if(g=da(c),d=1===c.nodeType&&(" "+g+" ").replace(Ra," ")){for(l=0;h=b[l++];)0>d.indexOf(" "+h+" ")&&(d+=h+" ");d=e.trim(d);g!==d&&c.setAttribute("class",d)}return this},removeClass:function(a){var b,c,d,g,h,l,m=0;if(e.isFunction(a))return this.each(function(b){e(this).removeClass(a.call(this,b,da(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof a&&a)for(b=a.match(N)||[];c=this[m++];)if(g=da(c),d=1===c.nodeType&&(" "+g+" ").replace(Ra," ")){for(l=0;h=b[l++];)for(;-1<d.indexOf(" "+h+" ");)d=d.replace(" "+h+" "," ");d=e.trim(d);g!==d&&c.setAttribute("class",d)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):e.isFunction(a)?this.each(function(c){e(this).toggleClass(a.call(this,c,da(this),b),b)}):this.each(function(){var b,d,f,g;if("string"===
c)for(d=0,f=e(this),g=a.match(N)||[];b=g[d++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else void 0!==a&&"boolean"!==c||(b=da(this),b&&z.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":z.get(this,"__className__")||""))})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+da(b)+" ").replace(Ra," ").indexOf(a))return!0;return!1}});var oc=/\r/g,pc=/[\x20\t\r\n\f]+/g;e.fn.extend({val:function(a){var b,c,d,g=this[0];if(arguments.length)return d=
e.isFunction(a),this.each(function(c){var g;1===this.nodeType&&(g=d?a.call(this,c,e(this).val()):a,null==g?g="":"number"==typeof g?g+="":e.isArray(g)&&(g=e.map(g,function(a){return null==a?"":a+""})),b=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,g,"value")||(this.value=g))});if(g)return b=e.valHooks[g.type]||e.valHooks[g.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(g,"value"))?c:(c=g.value,"string"==typeof c?c.replace(oc,""):null==c?
"":c)}});e.extend({valHooks:{option:{get:function(a){var b=e.find.attr(a,"value");return null!=b?b:e.trim(e.text(a)).replace(pc," ")}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,g="select-one"===a.type,h=g?null:[],l=g?d+1:c.length,m=0>d?l:g?d:0;m<l;m++)if(b=c[m],!(!b.selected&&m!==d||b.disabled||b.parentNode.disabled&&e.nodeName(b.parentNode,"optgroup"))){if(a=e(b).val(),g)return a;h.push(a)}return h},set:function(a,b){for(var c,d,g=a.options,h=e.makeArray(b),l=g.length;l--;)d=
g[l],(d.selected=-1<e.inArray(e.valHooks.option.get(d),h))&&(c=!0);return c||(a.selectedIndex=-1),h}}}});e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(a,b){if(e.isArray(b))return a.checked=-1<e.inArray(e(a).val(),b)}};x.checkOn||(e.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Eb=/^(?:focusinfocus|focusoutblur)$/;e.extend(e.event,{trigger:function(b,c,d,g){var h,l,m,n,p,t,x,A=[d||v],y=Ca.call(b,"type")?b.type:b;h=Ca.call(b,"namespace")?
b.namespace.split("."):[];if(l=m=d=d||v,3!==d.nodeType&&8!==d.nodeType&&!Eb.test(y+e.event.triggered)&&(-1<y.indexOf(".")&&(h=y.split("."),y=h.shift(),h.sort()),p=0>y.indexOf(":")&&"on"+y,b=b[e.expando]?b:new e.Event(y,"object"==typeof b&&b),b.isTrigger=g?2:3,b.namespace=h.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:e.makeArray(c,[b]),x=e.event.special[y]||{},g||!x.trigger||!1!==x.trigger.apply(d,
c))){if(!g&&!x.noBubble&&!e.isWindow(d)){n=x.delegateType||y;for(Eb.test(n+y)||(l=l.parentNode);l;l=l.parentNode)A.push(l),m=l;m===(d.ownerDocument||v)&&A.push(m.defaultView||m.parentWindow||a)}for(h=0;(l=A[h++])&&!b.isPropagationStopped();)b.type=1<h?n:x.bindType||y,(t=(z.get(l,"events")||{})[b.type]&&z.get(l,"handle"))&&t.apply(l,c),(t=p&&l[p])&&t.apply&&Ha(l)&&(b.result=t.apply(l,c),!1===b.result&&b.preventDefault());return b.type=y,g||b.isDefaultPrevented()||x._default&&!1!==x._default.apply(A.pop(),
c)||!Ha(d)||p&&e.isFunction(d[y])&&!e.isWindow(d)&&(m=d[p],m&&(d[p]=null),e.event.triggered=y,d[y](),e.event.triggered=void 0,m&&(d[p]=m)),b.result}},simulate:function(a,b,c){a=e.extend(new e.Event,c,{type:a,isSimulated:!0});e.event.trigger(a,null,b)}});e.fn.extend({trigger:function(a,b){return this.each(function(){e.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return e.event.trigger(a,b,c,!0)}});e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,b){e.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});e.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});x.focusin="onfocusin"in a;x.focusin||e.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){e.event.simulate(b,a.target,e.event.fix(a))};e.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=z.access(d,b);e||d.addEventListener(a,c,!0);z.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||
this,e=z.access(d,b)-1;e?z.access(d,b,e):(d.removeEventListener(a,c,!0),z.remove(d,b))}}});var ba=a.location,Fb=e.now(),Sa=/\?/;e.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+b),c};var Ub=/\[\]$/,Gb=/\r?\n/g,qc=/^(?:submit|button|image|reset|file)$/i,rc=/^(?:input|select|textarea|keygen)/i;e.param=function(a,b){var c,d=[],g=function(a,
b){var c=e.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(e.isArray(a)||a.jquery&&!e.isPlainObject(a))e.each(a,function(){g(this.name,this.value)});else for(c in a)Ma(c,a[c],b,g);return d.join("&")};e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=e.prop(this,"elements");return a?e.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!e(this).is(":disabled")&&
rc.test(this.nodeName)&&!qc.test(a)&&(this.checked||!Ab.test(a))}).map(function(a,b){var c=e(this).val();return null==c?null:e.isArray(c)?e.map(c,function(a){return{name:b.name,value:a.replace(Gb,"\r\n")}}):{name:b.name,value:c.replace(Gb,"\r\n")}}).get()}});var sc=/%20/g,tc=/#.*$/,uc=/([?&])_=[^&]*/,vc=/^(.*?):[ \t]*([^\r\n]*)$/gm,wc=/^(?:GET|HEAD)$/,xc=/^\/\//,Hb={},Na={},Ib="*/".concat("*"),Ta=v.createElement("a");Ta.href=ba.href;e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ba.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ba.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ib,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oa(Oa(a,e.ajaxSettings),b):Oa(e.ajaxSettings,a)},ajaxPrefilter:ob(Hb),ajaxTransport:ob(Na),ajax:function(b,c){function d(b,c,f,k){var m,p,u,G,v=c;if(!t){t=!0;n&&a.clearTimeout(n);g=void 0;l=k||"";w.readyState=0<b?4:0;k=200<=b&&300>b||304===b;if(f){u=r;for(var y=w,A,C,I,L,O=u.contents,H=u.dataTypes;"*"===H[0];)H.shift(),void 0===A&&(A=u.mimeType||y.getResponseHeader("Content-Type"));if(A)for(C in O)if(O[C]&&O[C].test(A)){H.unshift(C);
break}if(H[0]in f)I=H[0];else{for(C in f){if(!H[0]||u.converters[C+" "+H[0]]){I=C;break}L||(L=C)}I=I||L}f=I?(I!==H[0]&&H.unshift(I),f[I]):void 0;u=f}var D;a:{f=r;A=u;C=w;I=k;var J,N,M;u={};y=f.dataTypes.slice();if(y[1])for(J in f.converters)u[J.toLowerCase()]=f.converters[J];for(L=y.shift();L;)if(f.responseFields[L]&&(C[f.responseFields[L]]=A),!M&&I&&f.dataFilter&&(A=f.dataFilter(A,f.dataType)),M=L,L=y.shift())if("*"===L)L=M;else if("*"!==M&&M!==L){if(J=u[M+" "+L]||u["* "+L],!J)for(D in u)if(N=D.split(" "),
N[1]===L&&(J=u[M+" "+N[0]]||u["* "+N[0]])){!0===J?J=u[D]:!0!==u[D]&&(L=N[0],y.unshift(N[1]));break}if(!0!==J)if(J&&f["throws"])A=J(A);else try{A=J(A)}catch(T){D={state:"parsererror",error:J?T:"No conversion from "+M+" to "+L};break a}}D={state:"success",data:A}}u=D;k?(r.ifModified&&(G=w.getResponseHeader("Last-Modified"),G&&(e.lastModified[h]=G),G=w.getResponseHeader("etag"),G&&(e.etag[h]=G)),204===b||"HEAD"===r.type?v="nocontent":304===b?v="notmodified":(v=u.state,m=u.data,p=u.error,k=!p)):(p=v,
!b&&v||(v="error",0>b&&(b=0)));w.status=b;w.statusText=(c||v)+"";k?K.resolveWith(z,[m,v,w]):K.rejectWith(z,[w,v,p]);w.statusCode(P);P=void 0;x&&B.trigger(k?"ajaxSuccess":"ajaxError",[w,r,k?m:p]);Q.fireWith(z,[w,v]);x&&(B.trigger("ajaxComplete",[w,r]),--e.active||e.event.trigger("ajaxStop"))}}"object"==typeof b&&(c=b,b=void 0);c=c||{};var g,h,l,m,n,p,t,x,A,y,r=e.ajaxSetup({},c),z=r.context||r,B=r.context&&(z.nodeType||z.jquery)?e(z):e.event,K=e.Deferred(),Q=e.Callbacks("once memory"),P=r.statusCode||
{},O={},H={},C="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(t){if(!m)for(m={};b=vc.exec(l);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return t?l:null},setRequestHeader:function(a,b){return null==t&&(a=H[a.toLowerCase()]=H[a.toLowerCase()]||a,O[a]=b),this},overrideMimeType:function(a){return null==t&&(r.mimeType=a),this},statusCode:function(a){var b;if(a)if(t)w.always(a[w.status]);else for(b in a)P[b]=[P[b],a[b]];return this},
abort:function(a){a=a||C;return g&&g.abort(a),d(0,a),this}};if(K.promise(w),r.url=((b||r.url||ba.href)+"").replace(xc,ba.protocol+"//"),r.type=c.method||c.type||r.method||r.type,r.dataTypes=(r.dataType||"*").toLowerCase().match(N)||[""],null==r.crossDomain){p=v.createElement("a");try{p.href=r.url,p.href=p.href,r.crossDomain=Ta.protocol+"//"+Ta.host!=p.protocol+"//"+p.host}catch(oa){r.crossDomain=!0}}if(r.data&&r.processData&&"string"!=typeof r.data&&(r.data=e.param(r.data,r.traditional)),pb(Hb,r,
c,w),t)return w;(x=e.event&&r.global)&&0===e.active++&&e.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!wc.test(r.type);h=r.url.replace(tc,"");r.hasContent?r.data&&r.processData&&0===(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&(r.data=r.data.replace(sc,"+")):(y=r.url.slice(h.length),r.data&&(h+=(Sa.test(h)?"&":"?")+r.data,delete r.data),!1===r.cache&&(h=h.replace(uc,""),y=(Sa.test(h)?"&":"?")+"_="+Fb++ +y),r.url=h+y);r.ifModified&&(e.lastModified[h]&&w.setRequestHeader("If-Modified-Since",
e.lastModified[h]),e.etag[h]&&w.setRequestHeader("If-None-Match",e.etag[h]));(r.data&&r.hasContent&&!1!==r.contentType||c.contentType)&&w.setRequestHeader("Content-Type",r.contentType);w.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+Ib+"; q=0.01":""):r.accepts["*"]);for(A in r.headers)w.setRequestHeader(A,r.headers[A]);if(r.beforeSend&&(!1===r.beforeSend.call(z,w,r)||t))return w.abort();if(C="abort",Q.add(r.complete),w.done(r.success),
w.fail(r.error),g=pb(Na,r,c,w)){if(w.readyState=1,x&&B.trigger("ajaxSend",[w,r]),t)return w;r.async&&0<r.timeout&&(n=a.setTimeout(function(){w.abort("timeout")},r.timeout));try{t=!1,g.send(O,d)}catch(oa){if(t)throw oa;d(-1,oa)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return e.get(a,b,c,"json")},getScript:function(a,b){return e.get(a,void 0,b,"script")}});e.each(["get","post"],function(a,b){e[b]=function(a,c,d,g){return e.isFunction(c)&&(g=g||d,d=c,c=void 0),e.ajax(e.extend({url:a,
type:b,dataType:g,data:c,success:d},e.isPlainObject(a)&&a))}});e._evalUrl=function(a){return e.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};e.fn.extend({wrapAll:function(a){var b;return this[0]&&(e.isFunction(a)&&(a=a.call(this[0])),b=e(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return e.isFunction(a)?
this.each(function(b){e(this).wrapInner(a.call(this,b))}):this.each(function(){var b=e(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=e.isFunction(a);return this.each(function(c){e(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){e(this).replaceWith(this.childNodes)}),this}});e.expr.pseudos.hidden=function(a){return!e.expr.pseudos.visible(a)};e.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||
a.getClientRects().length)};e.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var yc={0:200,1223:204},za=e.ajaxSettings.xhr();x.cors=!!za&&"withCredentials"in za;x.ajax=za=!!za;e.ajaxTransport(function(b){var c,d;if(x.cors||za&&!b.crossDomain)return{send:function(e,g){var h,l=b.xhr();if(l.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(h in b.xhrFields)l[h]=b.xhrFields[h];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||
(e["X-Requested-With"]="XMLHttpRequest");for(h in e)l.setRequestHeader(h,e[h]);c=function(a){return function(){c&&(c=d=l.onload=l.onerror=l.onabort=l.onreadystatechange=null,"abort"===a?l.abort():"error"===a?"number"!=typeof l.status?g(0,"error"):g(l.status,l.statusText):g(yc[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}};l.onload=c();d=l.onerror=c("error");void 0!==l.onabort?
l.onabort=d:l.onreadystatechange=function(){4===l.readyState&&a.setTimeout(function(){c&&d()})};c=c("abort");try{l.send(b.hasContent&&b.data||null)}catch(m){if(c)throw m;}},abort:function(){c&&c()}}});e.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return e.globalEval(a),a}}});
e.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});e.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,g){b=e("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&g("error"===a.type?404:200,a.type)});v.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Ua=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||e.expando+
"_"+Fb++;return this[a]=!0,a}});e.ajaxPrefilter("json jsonp",function(b,c,d){var g,h,l,m=!1!==b.jsonp&&(Ua.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ua.test(b.data)&&"data");if(m||"jsonp"===b.dataTypes[0])return g=b.jsonpCallback=e.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,m?b[m]=b[m].replace(Ua,"$1"+g):!1!==b.jsonp&&(b.url+=(Sa.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){return l||
e.error(g+" was not called"),l[0]},b.dataTypes[0]="json",h=a[g],a[g]=function(){l=arguments},d.always(function(){void 0===h?e(a).removeProp(g):a[g]=h;b[g]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(g));l&&e.isFunction(h)&&h(l[0]);l=h=void 0}),"script"});x.createHTMLDocument=function(){var a=v.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}();e.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);
var d,g,h;return b||(x.createHTMLDocument?(b=v.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=v.location.href,b.head.appendChild(d)):b=v),g=wb.exec(a),h=!c&&[],g?[b.createElement(g[1])]:(g=Wa([a],b,h),h&&h.length&&e(h).remove(),e.merge([],g.childNodes))};e.fn.load=function(a,b,c){var d,g,h,l=this,m=a.indexOf(" ");return-1<m&&(d=e.trim(a.slice(m)),a=a.slice(0,m)),e.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(g="POST"),0<l.length&&e.ajax({url:a,type:g||"GET",dataType:"html",
data:b}).done(function(a){h=arguments;l.html(d?e("<div>").append(e.parseHTML(a)).find(d):a)}).always(c&&function(a,b){l.each(function(){c.apply(this,h||[a.responseText,b,a])})}),this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){e.fn[b]=function(a){return this.on(b,a)}});e.expr.pseudos.animated=function(a){return e.grep(e.timers,function(b){return a===b.elem}).length};e.offset={setOffset:function(a,b,c){var d,g,h,l,m,n,p=e.css(a,"position"),t=e(a),
v={};"static"===p&&(a.style.position="relative");m=t.offset();h=e.css(a,"top");n=e.css(a,"left");("absolute"===p||"fixed"===p)&&-1<(h+n).indexOf("auto")?(d=t.position(),l=d.top,g=d.left):(l=parseFloat(h)||0,g=parseFloat(n)||0);e.isFunction(b)&&(b=b.call(a,c,e.extend({},m)));null!=b.top&&(v.top=b.top-m.top+l);null!=b.left&&(v.left=b.left-m.left+g);"using"in b?b.using.call(a,v):t.css(v)}};e.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){e.offset.setOffset(this,
a,b)});var b,c,d,g,h=this[0];if(h)return h.getClientRects().length?(d=h.getBoundingClientRect(),d.width||d.height?(g=h.ownerDocument,c=qb(g),b=g.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===e.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),e.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+e.css(a[0],"borderTopWidth",
!0),left:d.left+e.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-e.css(c,"marginTop",!0),left:b.left-d.left-e.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===e.css(a,"position");)a=a.offsetParent;return a||Ia})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;e.fn[a]=function(d){return T(this,function(a,d,g){var e=qb(a);return void 0===g?e?e[b]:a[d]:void(e?e.scrollTo(c?e.pageXOffset:
g,c?g:e.pageYOffset):a[d]=g)},a,d,arguments.length)}});e.each(["top","left"],function(a,b){e.cssHooks[b]=eb(x.pixelPosition,function(a,c){if(c)return c=sa(a,b),La.test(c)?e(a).position()[b]+"px":c})});e.each({Height:"height",Width:"width"},function(a,b){e.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){e.fn[d]=function(g,h){var l=arguments.length&&(c||"boolean"!=typeof g),m=c||(!0===g||!0===h?"margin":"border");return T(this,function(b,c,g){var f;return e.isWindow(b)?0===d.indexOf("outer")?
b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===g?e.css(b,c,m):e.style(b,c,g,m)},b,l?g:void 0,l)}})});e.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});
e.parseJSON=JSON.parse;"function"==typeof define&&define.amd&&define("jquery",[],function(){return e});var zc=a.jQuery,Ac=a.$;return e.noConflict=function(b){return a.$===e&&(a.$=Ac),b&&a.jQuery===e&&(a.jQuery=zc),e},b||(a.jQuery=a.$=e),e});if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(a){a=a.fn.jquery.split(" ")[0].split(".");if(2>a[0]&&9>a[1]||1==a[0]&&9==a[1]&&1>a[2]||3<a[0])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);
+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},g;for(g in b)if(void 0!==a.style[g])return{end:b[g]};return!1}a.fn.emulateTransitionEnd=function(b){var d=!1,g=this;a(this).one("bsTransitionEnd",function(){d=!0});return setTimeout(function(){d||a(g).trigger(a.support.transition.end)},b),this};a(function(){a.support.transition=b();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(a){var b=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};b.VERSION="3.3.7";b.TRANSITION_DURATION=150;b.prototype.close=function(c){function g(){l.detach().trigger("closed.bs.alert").remove()}var h=a(this),m=h.attr("data-target");m||(m=h.attr("href"),m=m&&m.replace(/.*(?=#[^\s]*$)/,""));var l=a("#"===m?[]:m);c&&c.preventDefault();l.length||(l=h.closest(".alert"));l.trigger(c=a.Event("close.bs.alert"));c.isDefaultPrevented()||(l.removeClass("in"),a.support.transition&&l.hasClass("fade")?
l.one("bsTransitionEnd",g).emulateTransitionEnd(b.TRANSITION_DURATION):g())};var c=a.fn.alert;a.fn.alert=function(c){return this.each(function(){var g=a(this),h=g.data("bs.alert");h||g.data("bs.alert",h=new b(this));"string"==typeof c&&h[c].call(g)})};a.fn.alert.Constructor=b;a.fn.alert.noConflict=function(){return a.fn.alert=c,this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',b.prototype.close)}(jQuery);
+function(a){function b(b){return this.each(function(){var d=a(this),m=d.data("bs.button"),l="object"==typeof b&&b;m||d.data("bs.button",m=new c(this,l));"toggle"==b?m.toggle():b&&m.setState(b)})}var c=function(b,d){this.$element=a(b);this.options=a.extend({},c.DEFAULTS,d);this.isLoading=!1};c.VERSION="3.3.7";c.DEFAULTS={loadingText:"loading..."};c.prototype.setState=function(b){var c=this.$element,d=c.is("input")?"val":"html",l=c.data();b+="Text";null==l.resetText&&c.data("resetText",c[d]());setTimeout(a.proxy(function(){c[d](null==
l[b]?this.options[b]:l[b]);"loadingText"==b?(this.isLoading=!0,c.addClass("disabled").attr("disabled","disabled").prop("disabled",!0)):this.isLoading&&(this.isLoading=!1,c.removeClass("disabled").removeAttr("disabled").prop("disabled",!1))},this),0)};c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):
"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active"));c.prop("checked",this.$element.hasClass("active"));a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b;a.fn.button.Constructor=c;a.fn.button.noConflict=function(){return a.fn.button=d,this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=
a(c.target).closest(".btn");b.call(d,"toggle");a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery);
+function(a){function b(b){return this.each(function(){var d=a(this),g=d.data("bs.carousel"),n=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),p="string"==typeof b?b:n.slide;g||d.data("bs.carousel",g=new c(this,n));"number"==typeof b?g.to(b):p?g[p]():n.interval&&g.pause().cycle()})}var c=function(b,c){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.$items=this.$active=this.interval=this.sliding=this.paused=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",
a.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7";c.TRANSITION_DURATION=600;c.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}};
c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this};c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)};c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b);return("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap?b:this.$items.eq((c+
("prev"==a?-1:1))%this.$items.length)};c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||0>a))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))};c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),
this.cycle(!0)),this.interval=clearInterval(this.interval),this};c.prototype.next=function(){if(!this.sliding)return this.slide("next")};c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};c.prototype.slide=function(b,d){var g=this.$element.find(".item.active"),n=d||this.getItemForDirection(b,g),p=this.interval,t="next"==b?"left":"right",B=this;if(n.hasClass("active"))return this.sliding=!1;var aa=n[0],V=a.Event("slide.bs.carousel",{relatedTarget:aa,direction:t});if(this.$element.trigger(V),
!V.isDefaultPrevented()){if(this.sliding=!0,p&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(V=a(this.$indicators.children()[this.getItemIndex(n)]))&&V.addClass("active");var O=a.Event("slid.bs.carousel",{relatedTarget:aa,direction:t});return a.support.transition&&this.$element.hasClass("slide")?(n.addClass(b),n[0].offsetWidth,g.addClass(t),n.addClass(t),g.one("bsTransitionEnd",function(){n.removeClass([b,t].join(" ")).addClass("active");g.removeClass(["active",
t].join(" "));B.sliding=!1;setTimeout(function(){B.$element.trigger(O)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(g.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(O)),p&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b;a.fn.carousel.Constructor=c;a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var g=function(c){var d,g=a(this),n=a(g.attr("data-target")||(d=g.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));n.hasClass("carousel")&&(d=
a.extend({},n.data(),g.data()),(g=g.attr("data-slide-to"))&&(d.interval=!1),b.call(n,d),g&&n.data("bs.carousel").to(g),c.preventDefault())};a(document).on("click.bs.carousel.data-api","[data-slide]",g).on("click.bs.carousel.data-api","[data-slide-to]",g);a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery);
+function(a){function b(b){var c;b=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(b)}function c(b){return this.each(function(){var c=a(this),g=c.data("bs.collapse"),n=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!g&&n.toggle&&/show|hide/.test(b)&&(n.toggle=!1);g||c.data("bs.collapse",g=new d(this,n));"string"==typeof b&&g[b]()})}var d=function(b,c){this.$element=a(b);this.options=a.extend({},d.DEFAULTS,c);this.$trigger=a('[data-toggle="collapse"][href="#'+
b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};d.VERSION="3.3.7";d.TRANSITION_DURATION=350;d.DEFAULTS={toggle:!0};d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,g=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");
if(!(g&&g.length&&(b=g.data("bs.collapse"),b&&b.transitioning))){var l=a.Event("show.bs.collapse");if(this.$element.trigger(l),!l.isDefaultPrevented()){g&&g.length&&(c.call(g,"hide"),b||g.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;b=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("");this.transitioning=
0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return b.call(this);g=a.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",a.proxy(b,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[n](this.$element[0][g])}}}};d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",
!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var c=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[b](0).one("bsTransitionEnd",a.proxy(c,this)).emulateTransitionEnd(d.TRANSITION_DURATION):c.call(this)}}};d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+
this.options.parent+'"]').each(a.proxy(function(c,d){var g=a(d);this.addAriaAndCollapsedClass(b(g),g)},this)).end()};d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c);b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var g=a.fn.collapse;a.fn.collapse=c;a.fn.collapse.Constructor=d;a.fn.collapse.noConflict=function(){return a.fn.collapse=g,this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var g=a(this);g.attr("data-target")||
d.preventDefault();d=b(g);g=d.data("bs.collapse")?"toggle":g.data();c.call(d,g)})}(jQuery);
+function(a){function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));return(c=c&&a(c))&&c.length?c:b.parent()}function c(c){c&&3===c.which||(a(d).remove(),a(g).each(function(){var d=a(this),g=b(d),h={relatedTarget:this};g.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(g[0],c.target)||(g.trigger(c=a.Event("hide.bs.dropdown",h)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),g.removeClass("open").trigger(a.Event("hidden.bs.dropdown",
h)))))}))}var d=".dropdown-backdrop",g='[data-toggle="dropdown"]',h=function(b){a(b).on("click.bs.dropdown",this.toggle)};h.VERSION="3.3.7";h.prototype.toggle=function(d){var g=a(this);if(!g.is(".disabled, :disabled")){var h=b(g),m=h.hasClass("open");if(c(),!m){"ontouchstart"in document.documentElement&&!h.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);m={relatedTarget:this};if(h.trigger(d=a.Event("show.bs.dropdown",
m)),d.isDefaultPrevented())return;g.trigger("focus").attr("aria-expanded","true");h.toggleClass("open").trigger(a.Event("shown.bs.dropdown",m))}return!1}};h.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var h=b(d),m=h.hasClass("open");if(!m&&27!=c.which||m&&27==c.which)return 27==c.which&&h.find(g).trigger("focus"),d.trigger("click");d=h.find(".dropdown-menu li:not(.disabled):visible a");
d.length&&(h=d.index(c.target),38==c.which&&0<h&&h--,40==c.which&&h<d.length-1&&h++,~h||(h=0),d.eq(h).trigger("focus"))}}};var m=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new h(this));"string"==typeof b&&d[b].call(c)})};a.fn.dropdown.Constructor=h;a.fn.dropdown.noConflict=function(){return a.fn.dropdown=m,this};a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",
g,h.prototype.toggle).on("keydown.bs.dropdown.data-api",g,h.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",h.prototype.keydown)}(jQuery);
+function(a){function b(b,d){return this.each(function(){var m=a(this),l=m.data("bs.modal"),n=a.extend({},c.DEFAULTS,m.data(),"object"==typeof b&&b);l||m.data("bs.modal",l=new c(this,n));"string"==typeof b?l[b](d):n.show&&l.show(d)})}var c=function(b,c){this.options=c;this.$body=a(document.body);this.$element=a(b);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7";c.TRANSITION_DURATION=300;c.BACKDROP_TRANSITION_DURATION=150;c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};c.prototype.show=function(b){var d=this,m=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(m);this.isShown||m.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var l=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body);d.$element.show().scrollTop(0);d.adjustDialog();l&&d.$element[0].offsetWidth;
d.$element.addClass("in");d.enforceFocus();var m=a.Event("shown.bs.modal",{relatedTarget:b});l?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(m)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(m)}))};c.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())};c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};c.prototype.escape=function(){this.isShown&&
this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")};c.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};
c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};c.prototype.backdrop=function(b){var d=this,m=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var l=a.support.transition&&m;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+m).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===
a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),l&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),b)l?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),m=function(){d.removeBackdrop();b&&b()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",m).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):
m()):b&&b()};c.prototype.handleUpdate=function(){this.adjustDialog()};c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};c.prototype.checkScrollbar=function(){var a=window.innerWidth;a||(a=document.documentElement.getBoundingClientRect(),
a=a.right-Math.abs(a.left));this.bodyIsOverflowing=document.body.clientWidth<a;this.scrollbarWidth=this.measureScrollbar()};c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};c.prototype.measureScrollbar=function(){var a=document.createElement("div");
a.className="modal-scrollbar-measure";this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b;a.fn.modal.Constructor=c;a.fn.modal.noConflict=function(){return a.fn.modal=d,this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),m=d.attr("href"),l=a(d.attr("data-target")||m&&m.replace(/.*(?=#[^\s]+$)/,"")),m=l.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(m)&&m},l.data(),d.data());d.is("a")&&
c.preventDefault();l.one("show.bs.modal",function(a){a.isDefaultPrevented()||l.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})});b.call(l,m,this)})}(jQuery);
+function(a){var b=function(a,b){this.inState=this.$element=this.hoverState=this.timeout=this.enabled=this.options=this.type=null;this.init("tooltip",a,b)};b.VERSION="3.3.7";b.TRANSITION_DURATION=150;b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};b.prototype.init=function(b,c,
h){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(h),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");b=this.options.trigger.split(" ");
for(c=b.length;c--;)if(h=b[c],"click"==h)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=h){var m="hover"==h?"mouseleave":"focusout";this.$element.on(("hover"==h?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(m+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};b.prototype.getDefaults=
function(){return b.DEFAULTS};b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b};b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,m){c[a]!=m&&(b[a]=m)}),b};b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,
this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())};b.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1};b.prototype.leave=
function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()};b.prototype.show=
function(){var c=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);var g=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!c.isDefaultPrevented()&&g){var h=this,c=this.tip(),g=this.getUID(this.type);this.setContent();c.attr("id",g);this.$element.attr("aria-describedby",g);this.options.animation&&c.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,
m=/\s?auto?\s?/i,l=m.test(g);l&&(g=g.replace(m,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this);this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var m=this.getPosition(),n=c[0].offsetWidth,p=c[0].offsetHeight;if(l){var l=g,t=this.getPosition(this.$viewport),g="bottom"==g&&m.bottom+p>t.bottom?"top":"top"==g&&m.top-p<t.top?"bottom":"right"==g&&m.right+n>t.width?"left":
"left"==g&&m.left-n<t.left?"right":g;c.removeClass(l).addClass(g)}m=this.getCalculatedOffset(g,m,n,p);this.applyPlacement(m,g);g=function(){var a=h.hoverState;h.$element.trigger("shown.bs."+h.type);h.hoverState=null;"out"==a&&h.leave(h)};a.support.transition&&this.$tip.hasClass("fade")?c.one("bsTransitionEnd",g).emulateTransitionEnd(b.TRANSITION_DURATION):g()}}};b.prototype.applyPlacement=function(b,c){var h=this.tip(),m=h[0].offsetWidth,l=h[0].offsetHeight,n=parseInt(h.css("margin-top"),10),p=parseInt(h.css("margin-left"),
10);isNaN(n)&&(n=0);isNaN(p)&&(p=0);b.top+=n;b.left+=p;a.offset.setOffset(h[0],a.extend({using:function(a){h.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0);h.addClass("in");var p=h[0].offsetWidth,t=h[0].offsetHeight;"top"==c&&t!=l&&(b.top=b.top+l-t);var B=this.getViewportAdjustedDelta(c,b,p,t);B.left?b.left+=B.left:b.top+=B.top;m=(n=/top|bottom/.test(c))?2*B.left-m+p:2*B.top-l+t;l=n?"offsetWidth":"offsetHeight";h.offset(b);this.replaceArrow(m,h[0][l],n)};b.prototype.replaceArrow=function(a,
b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")};b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};b.prototype.hide=function(c){function g(){"in"!=h.hoverState&&m.detach();h.$element&&h.$element.removeAttr("aria-describedby").trigger("hidden.bs."+h.type);c&&c()}var h=this,m=a(this.$tip),l=a.Event("hide.bs."+this.type);if(this.$element.trigger(l),
!l.isDefaultPrevented())return m.removeClass("in"),a.support.transition&&m.hasClass("fade")?m.one("bsTransitionEnd",g).emulateTransitionEnd(b.TRANSITION_DURATION):g(),this.hoverState=null,this};b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],
h="BODY"==c.tagName,m=c.getBoundingClientRect();null==m.width&&(m=a.extend({},m,{width:m.right-m.left,height:m.bottom-m.top}));c=window.SVGElement&&c instanceof window.SVGElement;c=h?{top:0,left:0}:c?null:b.offset();b={scroll:h?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()};h=h?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},m,b,h,c)};b.prototype.getCalculatedOffset=function(a,b,c,m){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/
2-c/2}:"top"==a?{top:b.top-m,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-m/2,left:b.left-c}:{top:b.top+b.height/2-m/2,left:b.left+b.width}};b.prototype.getViewportAdjustedDelta=function(a,b,c,m){var l={top:0,left:0};if(!this.$viewport)return l;var n=this.options.viewport&&this.options.viewport.padding||0,p=this.getPosition(this.$viewport);/right|left/.test(a)?(c=b.top-n-p.scroll,b=b.top+n-p.scroll+m,c<p.top?l.top=p.top-c:b>p.top+p.height&&(l.top=p.top+p.height-b)):(m=b.left-n,b=b.left+
n+c,m<p.left?l.left=p.left-m:b>p.right&&(l.left=p.left+p.width-b));return l};b.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};b.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};b.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw Error(this.type+" `template` option must consist of exactly 1 top-level element!");
return this.$tip};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.enable=function(){this.enabled=!0};b.prototype.disable=function(){this.enabled=!1};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)));b?(c.inState.click=!c.inState.click,
c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)};b.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type);a.$tip&&a.$tip.detach();a.$tip=null;a.$arrow=null;a.$viewport=null;a.$element=null})};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var g=a(this),h=g.data("bs.tooltip"),m="object"==typeof c&&c;!h&&/destroy|hide/.test(c)||(h||g.data("bs.tooltip",h=
new b(this,m)),"string"==typeof c&&h[c]())})};a.fn.tooltip.Constructor=b;a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery);
+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");b.VERSION="3.3.7";b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};
b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var a=this.$element,
b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var g=a(this),h=g.data("bs.popover"),m="object"==typeof c&&c;!h&&/destroy|hide/.test(c)||(h||g.data("bs.popover",h=new b(this,m)),"string"==typeof c&&h[c]())})};a.fn.popover.Constructor=b;a.fn.popover.noConflict=function(){return a.fn.popover=
c,this}}(jQuery);
+function(a){function b(c,d){this.$body=a(document.body);this.$scrollElement=a(a(c).is(document.body)?window:c);this.options=a.extend({},b.DEFAULTS,d);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this));this.refresh();this.process()}function c(c){return this.each(function(){var d=a(this),m=d.data("bs.scrollspy"),l="object"==typeof c&&c;m||d.data("bs.scrollspy",
m=new b(this,l));"string"==typeof c&&m[c]()})}b.VERSION="3.3.7";b.DEFAULTS={offset:10};b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var b=
a(this),b=b.data("target")||b.attr("href"),g=/^#./.test(b)&&a(b);return g&&g.length&&g.is(":visible")&&[[g[c]().top+d,b]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),n=this.offsets,p=this.targets,t=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return t!=
(a=p[p.length-1])&&this.activate(a);if(t&&b<n[0])return this.activeTarget=null,this.clear();for(a=n.length;a--;)t!=p[a]&&b>=n[a]&&(void 0===n[a+1]||b<n[a+1])&&this.activate(p[a])};b.prototype.activate=function(b){this.activeTarget=b;this.clear();b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c;a.fn.scrollspy.Constructor=b;a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery);
+function(a){function b(b){return this.each(function(){var d=a(this),g=d.data("bs.tab");g||d.data("bs.tab",g=new c(this));"string"==typeof b&&g[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7";c.TRANSITION_DURATION=150;c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var g=c.find(".active:last a"),p=a.Event("hide.bs.tab",{relatedTarget:b[0]}),
t=a.Event("show.bs.tab",{relatedTarget:g[0]});(g.trigger(p),b.trigger(t),t.isDefaultPrevented()||p.isDefaultPrevented())||(d=a(d),this.activate(b.closest("li"),c),this.activate(d,d.parent(),function(){g.trigger({type:"hidden.bs.tab",relatedTarget:b[0]});b.trigger({type:"shown.bs.tab",relatedTarget:g[0]})}))}};c.prototype.activate=function(b,d,g){function n(){p.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);
b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);t?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);g&&g()}var p=d.find("> .active"),t=g&&a.support.transition&&(p.length&&p.hasClass("fade")||!!d.find("> .fade").length);p.length&&t?p.one("bsTransitionEnd",n).emulateTransitionEnd(c.TRANSITION_DURATION):n();p.removeClass("in")};var d=
a.fn.tab;a.fn.tab=b;a.fn.tab.Constructor=c;a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var g=function(c){c.preventDefault();b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',g).on("click.bs.tab.data-api",'[data-toggle="pill"]',g)}(jQuery);
+function(a){function b(b){return this.each(function(){var d=a(this),m=d.data("bs.affix"),l="object"==typeof b&&b;m||d.data("bs.affix",m=new c(this,l));"string"==typeof b&&m[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(b);this.pinnedOffset=this.unpin=this.affixed=null;this.checkPosition()};
c.VERSION="3.3.7";c.RESET="affix affix-top affix-bottom";c.DEFAULTS={offset:0,target:window};c.prototype.getState=function(a,b,c,d){var n=this.$target.scrollTop(),p=this.$element.offset(),t=this.$target.height();if(null!=c&&"top"==this.affixed)return n<c&&"top";if("bottom"==this.affixed)return null!=c?!(n+this.unpin<=p.top)&&"bottom":!(n+t<=a-d)&&"bottom";var B=null==this.affixed,p=B?n:p.top;return null!=c&&n<=c?"top":null!=d&&p+(B?t:b)>=a-d&&"bottom"};c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,m=d.top,l=d.bottom,n=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(l=m=d);"function"==typeof m&&(m=d.top(this.$element));
"function"==typeof l&&(l=d.bottom(this.$element));d=this.getState(n,b,m,l);if(this.affixed!=d){null!=this.unpin&&this.$element.css("top","");var m="affix"+(d?"-"+d:""),p=a.Event(m+".bs.affix");if(this.$element.trigger(p),p.isDefaultPrevented())return;this.affixed=d;this.unpin="bottom"==d?this.getPinnedOffset():null;this.$element.removeClass(c.RESET).addClass(m).trigger(m.replace("affix","affixed")+".bs.affix")}"bottom"==d&&this.$element.offset({top:n-b-l})}};var d=a.fn.affix;a.fn.affix=b;a.fn.affix.Constructor=
c;a.fn.affix.noConflict=function(){return a.fn.affix=d,this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{};null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom);null!=d.offsetTop&&(d.offset.top=d.offsetTop);b.call(c,d)})})}(jQuery);var PlayerScreen=function(){this.disconnect=this.chatbox=this.debug=!1};PlayerScreen.prototype.toggleDebug=function(){(this.debug=!this.debug)?($("#debug").fadeIn(0),Settings.player_speed=10,Settings.attack_speed=1):($("#debug").fadeOut(0),Settings.player_speed=4.8,Settings.attack_speed=200)};PlayerScreen.prototype.showingDebug=function(){return this.debug};
PlayerScreen.prototype.removeLoginScreen=function(){fadeSoundtrackOut();$("#existing-user").fadeOut(250);$("#borders").fadeOut(1E3);setTimeout(function(){$("#borders").css("boxShadow","inset 0 0 50px #8A0808")},1E3);$("#logo").fadeOut(0);this.fadeBlurOut();$("body").css("cursor","url(styles/images/cursor.png), auto");$("#info-container").fadeIn(250)};
PlayerScreen.prototype.fadeBlurOut=function(){var a=Settings.max_blur,b=setInterval(function(){a-=.3;0<=a?$("#game").css("filter","blur("+a+"px)"):($("#game").css("filter","blur(0px)"),clearInterval(b),noblur=!0)},5)};PlayerScreen.prototype.fadeBlurIn=function(){var a=0,b=setInterval(function(){a+=.3;a<Settings.max_blur?$("#game").css("filter","blur("+a+"px)"):($("#game").css("filter","blur("+Settings.max_blur+"px)"),clearInterval(b),noblur=!1)},5)};
PlayerScreen.prototype.showMenu=function(){this.fadeBlurIn();$("#logo").fadeIn(250);$("#menu").fadeIn(250);$("#info-container").fadeOut(250)};PlayerScreen.prototype.hideMenu=function(){this.fadeBlurOut();$("#logo").fadeOut(250);$("#menu").fadeOut(250);$("#quests").fadeOut(250);$("#store").fadeOut(250);$("#leaderboards").fadeOut(250);$("#info-container").fadeIn(250)};PlayerScreen.prototype.isMenuShowing=function(){return!noblur};
PlayerScreen.prototype.showDeathScreen=function(){$("#logo").fadeOut(0);$("#menu").fadeOut(0);$("#quests").fadeOut(0);$("#game").css("filter","blur("+Settings.max_blur+"px) grayscale(100%)");noblur=!1;$("#dead").fadeIn(2E3);$("#dead-button").delay(3E3).fadeIn(1E3);$("#info-container").fadeOut(250)};PlayerScreen.prototype.hideDeathScreen=function(){this.fadeBlurOut();$("#dead").fadeOut(250);$("#dead-button").fadeOut(250);$("#info-container").fadeIn(250)};
PlayerScreen.prototype.showChatBox=function(){$("#chatbox").fadeIn(0);$("#prev-chatbox").fadeIn(0);$("#info-container").fadeOut(0);$("#message").focus();this.chatbox=!0};PlayerScreen.prototype.hideChatBox=function(){$("#chatbox").fadeOut(0);$("#prev-chatbox").fadeOut(0);$("#info-container").fadeIn(0);$("#message").blur();this.chatbox=!1;prevChatIndex=prevChats.length-1};PlayerScreen.prototype.isChatBoxOpen=function(){return this.chatbox};
PlayerScreen.prototype.showDisconnected=function(){$("#logo").fadeOut(250);$("#menu").fadeOut(250);$("#quests").fadeOut(250);$("#store").fadeOut(250);$("#info-container").fadeOut(250);this.fadeBlurIn();$("#disconnected").delay(250).fadeIn(250);this.disconnect=!0};var Armory=function(){};Armory.prototype.showStore=function(){this.updateStoreCosts();screen.fadeBlurIn();$("#armor-store").fadeIn(0);$("#weapon-store").fadeOut(0);$("#store").fadeIn(250);$("#info-container").fadeOut(250)};Armory.prototype.hideStore=function(){screen.fadeBlurOut();$("#store").fadeOut(250)};Armory.prototype.showArmorStore=function(){$("#weapon-store").fadeOut(250);$("#armor-store").delay(250).fadeIn(250)};Armory.prototype.showWeaponStore=function(){$("#armor-store").fadeOut(250);$("#weapon-store").delay(250).fadeIn(250)};
Armory.prototype.setStoreItems=function(){document.getElementById("armor-store").innerHTML="";document.getElementById("weapon-store").innerHTML="";for(var a in Armor){var b=Armor[a];b.cost>me().getArmor().cost&&$("#armor-store").append("<div class='store-item' onclick='armory.attemptPurchase(\""+b.id+"\")'><div class='image'><img src='styles/images/"+b.id+".png'></img></div><div class='desc'><div class='name' id='flash-"+b.id+"'>"+b.name+" Armor</div><br><div class='ability'>Reduces damage by "+100*
b.reduction+"%</div></div><div class='cost' id='store-"+b.id+"'><span class='glyphicon glyphicon-gbp cost-glyph' aria-hidden='true'></span>"+b.cost+"</div></div>")}0==document.getElementById("armor-store").innerHTML.length&&($("#armor-store").css("fontSize","25px"),$("#armor-store").css("margin-top","15px"),$("#armor-store").append("<span class='empty'>There is no more armor to purchase!</span>"));for(a in Weapon)b=Weapon[a],b.cost>me().getWeapon().cost&&$("#weapon-store").append("<div class='store-item' onclick='armory.attemptPurchase(\""+
b.id+"\")'><div class='image'><img src='styles/images/"+b.id+".png'></img></div><div class='desc'><div class='name' id='flash-"+b.id+"'>"+b.name+"</div><br><div class='ability'>Deals "+b.damage+" hp of damage</div></div><div class='cost' id='store-"+b.id+"'><span class='glyphicon glyphicon-gbp cost-glyph' aria-hidden='true'></span>"+b.cost+"</div></div>");0==document.getElementById("weapon-store").innerHTML.length&&($("#weapon-store").css("fontSize","25px"),$("#weapon-store").css("margin-top","15px"),
$("#weapon-store").append("<span class='empty'>There are no more weapons to purchase!</span>"))};Armory.prototype.updateStoreCosts=function(){for(var a=me().getGP(),b=game.getArmors(),c=0;c<b.length;c++){var d=b[c];d.cost<=a?$("#store-"+d.id).css("color","#248c24"):$("#store-"+d.id).css("color","#942013")}b=game.getWeapons();for(c=0;c<b.length;c++)d=b[c],d.cost<=a?$("#store-"+d.id).css("color","#248c24"):$("#store-"+d.id).css("color","#942013")};
Armory.prototype.attemptPurchase=function(a){var b=game.getItemFromID(a);b.item.cost<=me().getGP()?(this.current_purchase=b.item,document.getElementById("current-purchase").innerHTML=b.name,$("#overlay").fadeIn(250),$("#confirm-purchase").delay(250).fadeIn(250)):this.flashItem(a)};
Armory.prototype.acceptPurchase=function(){me().removeGP(this.current_purchase.cost);"armor"==this.current_purchase.type?me().giveArmor(this.current_purchase):me().giveWeapon(this.current_purchase);game.playSound(Sound.PURCHASE);this.setStoreItems();this.updateStoreCosts();$("#confirm-purchase").fadeOut(250);$("#overlay").delay(250).fadeOut(250);$("#store").delay(500).fadeIn(250)};
Armory.prototype.declinePurchase=function(){$("#confirm-purchase").fadeOut(250);$("#overlay").delay(250).fadeOut(250);$("#store").delay(500).fadeIn(250)};Armory.prototype.flashItem=function(a){$("#flash-"+a).css("color","#8e0303");setTimeout(function(){$("#flash-"+a).css("color","#000")},Settings.store_flash_diff);setTimeout(function(){$("#flash-"+a).css("color","#8e0303")},2*Settings.store_flash_diff);setTimeout(function(){$("#flash-"+a).css("color","#000")},3*Settings.store_flash_diff)};var QuestMenu=function(){this.elements=[];this.page=1};QuestMenu.prototype.show=function(){this.updateQuests();$("#logo").fadeOut(250);$("#menu").fadeOut(250);$("#quests").delay(250).fadeIn(250)};QuestMenu.prototype.hide=function(){$("#quests").fadeOut(250);$("#menu").delay(250).fadeIn(250);$("#logo").delay(250).fadeIn(250)};
QuestMenu.prototype.showPage=function(a){$("#quests-list").html("");for(var b=this.elements.getPage(a,Settings.quests_per_page),c=0;c<b.length;c++)$("#quests-list").append(b[c]);this.elements.getPage(a+1,Settings.quests_per_page)?($("#q-next-page").html("page "+(a+1)+" >"),$("#q-next-page").show()):$("#q-next-page").hide();this.elements.getPage(a-1,Settings.quests_per_page)?($("#q-last-page").html("< page "+(a-1)),$("#q-last-page").show()):$("#q-last-page").hide()};
QuestMenu.prototype.next=function(){this.page++;this.showPage(this.page)};QuestMenu.prototype.prev=function(){this.page--;this.showPage(this.page)};
QuestMenu.prototype.updateQuests=function(){this.elements=[];if(me().hasQuest()){var a=me().getQuest();this.elements.push("<div class='quest'><span class='title'>\""+a.getTitle()+"\"</span><br><span class='status in-progress'>In Progress</span><span class='separator'> | </span><span class='status objective'>"+me().getCurrentObjective().getAlert()+"</span></div>")}for(var b=me().getIncompletedQuests(),c=0;c<b.length;c++)a=b[c],this.elements.push("<div class='quest'><span class='title'>\""+a.getTitle()+
"\"</span><br><span class='status not-started'>Not Started</span><span class='separator'> | </span><span class='status objective'>talk to "+getQuestNPC(getQuestID(a.getTitle())).getName()+" @ lvl. "+a.getMinimumLevel()+"</span></div>");b=me().getCompletedQuests();for(c=0;c<b.length;c++)a=b[c],this.elements.push("<div class='quest'><span class='title'>\""+a.getTitle()+"\"</span><br><span class='status completed'>Completed</span><span class='separator'> | </span><span class='status objective'>+"+a.getXPReward()+
" xp, +"+a.getGPReward()+" gp</span></div>");this.page=1;this.showPage(this.page)};var Leaderboard=function(){this.elements=[];this.page=1};Leaderboard.prototype.show=function(){this.update();$("#logo").fadeOut(250);$("#menu").fadeOut(250);$("#leaderboards").delay(250).fadeIn(250)};Leaderboard.prototype.hide=function(){$("#leaderboards").fadeOut(250);$("#menu").delay(250).fadeIn(250);$("#logo").delay(250).fadeIn(250)};
Leaderboard.prototype.showPage=function(a){document.getElementById("leaderboard-table").innerHTML="";for(var b=this.elements.getPage(a,Settings.players_per_page),c=0;c<b.length;c++)$("#leaderboard-table").append(b[c]);this.elements.getPage(a+1,Settings.players_per_page)?($("#l-next-page").html("page "+(a+1)+" >"),$("#l-next-page").show()):$("#l-next-page").hide();this.elements.getPage(a-1,Settings.players_per_page)?($("#l-last-page").html("< page "+(a-1)),$("#l-last-page").show()):$("#l-last-page").hide()};
Leaderboard.prototype.next=function(){this.page++;this.showPage(this.page)};Leaderboard.prototype.prev=function(){this.page--;this.showPage(this.page)};
Leaderboard.prototype.update=function(){var a=this;$.ajax({type:"POST",url:"js/getleaderboard.js",success:function(b){a.elements=[];b=$.parseJSON(b);for(var c=0;c<b.length;c++){var d=b[c],g;for(g in d)"username"!=g&&"uuid"!=g&&(d[g]=$.parseJSON(d[g]))}for(c=0;c<b.length;c++)d=b[c],(g=game.getOnlinePlayer(d.uuid))&&(b[c]={username:g.name,uuid:g.uuid,level:g.level,inv:g.inventory});b.sortPlayers();g=1;for(c=0;c<b.length;c++)d=b[c],a.elements.push("<tbody><tr><td><span class='rank'>"+g+".</span> "+d.username+
"</td><td>Lvl. "+d.level.level+"</td><td><img src='styles/images/"+d.inv.armor+".png' class='armor-icon'></img><img src='styles/images/"+d.inv.sword+".png' class='armor-icon'></img></td></tr></tbody>"),g++;a.page=1;a.showPage(1)}})};var Game=function(){};Game.prototype.broadcast=function(a,b){b.type=a;socket.emit("msg",b)};Game.prototype.flashMessage=function(a){document.getElementById("msg").innerHTML=a;flashid++;var b=flashid;a=!0;for(var c=0,d=0;5>d;d++)a?setTimeout(function(){b==flashid&&$("#msg").fadeIn(Settings.message_flash_diff)},c):setTimeout(function(){b==flashid&&$("#msg").fadeOut(Settings.message_flash_diff)},c),a=!a,c+=Settings.message_flash_diff;setTimeout(function(){b==flashid&&$("#msg").fadeOut(750)},5E3)};
Game.prototype.switchMap=function(a,b){if(map.getName()!=a&&maps[a]){map=maps[a];b&&(60>=me().getY()?(camera.setToBottom(),me().setY(map.getMaxY()-150)):(camera.setToTop(),me().setY(65)));$("body").css("backgroundColor",map.getBackgroundColor());me().setMap(a);var c={index:myIndex,uuid:me().uuid,newmap:a};this.broadcast(Messages.CHANGE_MAP,c)}};
Game.prototype.getNextMap=function(a){if(a==Orientation.DOWN){if(map.getName()==MapType.MAIN)return MapType.BEACH;if(map.getName()==MapType.HELL)return MapType.MAIN}else if(a==Orientation.UP){if(map.getName()==MapType.MAIN)return MapType.HELL;if(map.getName()==MapType.BEACH)return MapType.MAIN}};Game.prototype.kick=function(a){if(!me().isAdmin())return Settings.not_admin_message;(a=players[this.getPlayerByName(a)])&&game.broadcast(Messages.ADMIN_KICK,{uuid:a.getUUID()})};
Game.prototype.mute=function(a){if(!me().isAdmin())return Settings.not_admin_message;(a=players[this.getPlayerByName(a)])&&game.broadcast(Messages.ADMIN_MUTE,{uuid:a.getUUID()})};Game.prototype.unmute=function(a){if(!me().isAdmin())return Settings.not_admin_message;(a=players[this.getPlayerByName(a)])&&game.broadcast(Messages.ADMIN_UNMUTE,{uuid:a.getUUID()})};
Game.prototype.giveGP=function(a,b){if(!me().isAdmin())return Settings.not_admin_message;var c=players[this.getPlayerByName(a)];c&&game.broadcast(Messages.ADMIN_GIVE_GP,{uuid:c.getUUID(),amount:b})};Game.prototype.giveAllGP=function(a){if(!me().isAdmin())return Settings.not_admin_message;game.broadcast(Messages.ADMIN_GIVE_ALL_GP,{uuid:"empty",amount:a})};Game.prototype.initializeClientEntities=function(){entities.push(new Entity("ogre",ogreID,1100,810,1E3,MapType.BEACH,!0))};
Game.prototype.playSound=function(a){a=sounds[a];a.currentTime=0;a.play()};Game.prototype.appendChat=function(a){chatbox.push(a);7<chatbox.length&&chatbox.splice(0,1);document.getElementById("prev-chatbox").innerHTML="";for(a=0;a<chatbox.length;a++)document.getElementById("prev-chatbox").innerHTML=document.getElementById("prev-chatbox").innerHTML+chatbox[a]};
Game.prototype.setPlayerToKill=function(){for(var a=0;200>a;a++){var b=players[getRange(0,players.length-1)];if(null!=b&&b.getUUID()!=me().getUUID()){toKill=b;break}}};Game.prototype.getKeyFromCode=function(a){return KeyCodes[a]};Game.prototype.getAnimationFromKey=function(a){if(a==Key.UP)return Animations.WALK_UP;if(a==Key.DOWN)return Animations.WALK_DOWN;if(a==Key.LEFT)return Animations.WALK_LEFT;if(a==Key.RIGHT)return Animations.WALK_RIGHT};
Game.prototype.getWeaponProperName=function(a){for(var b in Weapon){var c=Weapon[b];if(c.id==a)return c.name}};Game.prototype.getArmorProperName=function(a){for(var b in Armor){var c=Armor[b];if(c.id==a)return c.name}};Game.prototype.getArmors=function(a){if(!this.armors){this.armors=[];for(var b in Armor)this.armors.push(Armor[b])}return this.armors};Game.prototype.getArmorFromID=function(a){for(var b in Armor){var c=Armor[b];if(c.id==a)return c}};
Game.prototype.getWeapons=function(a){if(!this.weapons){this.weapons=[];for(var b in Weapon)this.weapons.push(Weapon[b])}return this.weapons};Game.prototype.getWeaponFromID=function(a){for(var b in Weapon){var c=Weapon[b];if(c.id==a)return c}};Game.prototype.getItemFromID=function(a){var b=this.getArmorFromID(a);b?a=b.name+" Armor":(b=this.getWeaponFromID(a),a=b.name);return{item:b,name:a}};Game.prototype.getMyPosition=function(){return me()?me().getPosition():this.getCenter()};
Game.prototype.collides=function(a,b){var c=map.getTileAt(a,b);return c?-1<map.collisions.indexOf(c.id):!1};Game.prototype.getPlayerByUUID=function(a){for(var b=0;b<players.length;b++){var c=players[b];if(null!=c&&c.getUUID()==a)return b}return-1};Game.prototype.getPlayerByName=function(a){for(var b=0;b<players.length;b++){var c=players[b];if(null!=c&&c.getName()==a)return b}return-1};
Game.prototype.getHitPlayer=function(){var a=this.getNearestPlayer();if(a&&!a.isDead()&&distance(me().getCenter(),a.getCenter())<=Settings.player_hit_dist&&game.getOrientation(me().getCenter(),a.getCenter())==me().getSprite().getOrientation())return a};Game.prototype.getNearestPlayer=function(){for(var a,b=5E3,c=0;c<players.length;c++){var d=players[c];if(null!=d&&d.onMap()&&d.getUUID()!=me().getUUID()){var g=distance(d.getCenter(),me().getCenter());g<=b&&(a=d,b=g)}}return a};
Game.prototype.getEntity=function(a){for(var b=0;b<entities.length;b++){var c=entities[b];if(c&&c.getUID()==a)return c}};Game.prototype.addEntity=function(a){this.getEntity(a.getUID())||entities.push(a);document.getElementById("alive").innerHTML=entities.length};Game.prototype.removeEntity=function(a){for(var b=0;b<entities.length;b++)if(entities[b].getUID()==a){entities.splice(b,1);break}document.getElementById("alive").innerHTML=entities.length};
Game.prototype.getHitEntity=function(a,b){var c=this.getNearestEntity(a.x,a.y);if(c&&!c.isDead()&&distance(a,c.getCenter())<=c.getSettings().hit_dist&&game.getOrientation(a,c.getCenter())==b)return c};Game.prototype.getNearestEntity=function(a,b){for(var c,d=5E3,g=0;g<entities.length;g++){var h=entities[g];if(h.onMap()){var m=distance(h.getCenter(),{x:a,y:b});m<=d&&(c=h,d=m)}}return c};
Game.prototype.getNearbyEntity=function(a,b){for(var c=0;c<entities.length;c++){var d=entities[c];if(d.onMap()&&100>=distance(d.getCenter(),{x:a,y:b}))return d}};Game.prototype.getNearbyItem=function(a,b){for(var c=0;c<items.length;c++){var d=items[c];if(d.onMap()&&50>=distance(d.getCenter(),{x:a,y:b}))return d}};Game.prototype.addItem=function(a,b,c,d){a=new Item(a,b,c,d);var g=a.sprites.item;setTimeout(function(){a.setPosition(b-g.getWidth()/2,c-g.getHeight()/2);items.push(a)},250)};
Game.prototype.removeItem=function(a){for(var b=0;b<items.length;b++){var c=items[b];if(c.getX()==a.getX()&&c.getY()==a.getY()){items.splice(b,1);break}}};Game.prototype.getNearbyNPC=function(a,b){for(var c=0;c<npcs.length;c++){var d=npcs[c];if(d.onMap()&&distance(d.getCenter(),{x:a,y:b})<=Settings.nearby_npc_dist)return d}};Game.prototype.getClickedNPC=function(){for(var a,b=0;b<npcs.length;b++){var c=npcs[b];if(c.onMap()&&50>=distance(c.getCenter(),this.getMapMouse())){a=c;break}}return a};
Game.prototype.getPlayersOnline=function(){for(var a=0,b=0;b<players.length;b++){var c=players[b];c&&null!=c&&a++}return a};Game.prototype.getOnlinePlayer=function(a){for(var b=0;b<players.length;b++){var c=players[b];if(c&&null!=c&&c.uuid==a)return c}};Game.prototype.getHealthColor=function(a){var b=TextColor.HIGH_HEALTH;.6>=a&&.3<=a?b=TextColor.MEDIUM_HEALTH:.3>a&&(b=TextColor.LOW_HEALTH);return b};Game.prototype.getMapMouse=function(){return{x:mouse.x-offset.x,y:mouse.y-offset.y}};
Game.prototype.getNextLevel=function(a){return Math.floor(50*Math.pow(a+1,2))};Game.prototype.getLevelFromXP=function(a){for(var b=1,c=1;1E3>=c&&!(this.getNextLevel(c)>a);c++)b++;return b};Game.prototype.getNewUUID=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};Game.prototype.getCenter=function(){return{x:canvas.width/2-offset.x-64,y:canvas.height/2-offset.y-64}};
Game.prototype.getOrientation=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.abs(c)>Math.abs(d)?0>c?Orientation.RIGHT:Orientation.LEFT:0>d?Orientation.DOWN:Orientation.UP};Game.prototype.getLevelColor=function(a){if(10>=a)return"#00BA19";if(10<a&&20>=a)return"#008E13";if(20<a&&30>=a)return"#CBA900";if(30<a&&40>=a)return"#B36900";if(40<a&&50>=a)return"#AF2F00";if(50<a)return"#812200"};
Game.prototype.getSwordOffset=function(a){return a==Orientation.UP?SwordOffset.UP:a==Orientation.DOWN?SwordOffset.DOWN:a==Orientation.LEFT?SwordOffset.LEFT:SwordOffset.RIGHT};Game.prototype.isOffWorld=function(a,b){return{x:a-canvas.width<-map.getMaxX()||0<a,y:b-canvas.height<-map.getMaxY()||0<b}};Game.prototype.isVisible=function(a,b){var c=offset.x+Settings.tilewidth,d=offset.y+Settings.tilewidth;return a<canvas.width-c+64&&a>-c&&b<canvas.height-d+64&&b>-d-45};
Game.prototype.drawText=function(a,b,c,d,g,h,m){ctx.font=d+"px profont";ctx.textAlign="center";0<h&&(ctx.strokeStyle=g,ctx.lineWidth=h,ctx.strokeText(c,a,b));ctx.fillStyle=m;ctx.fillText(c,a,b)};Game.prototype.drawRect=function(a,b,c,d,g){ctx.fillStyle=g;ctx.fillRect(a,b,c,d)};Game.prototype.strokeRect=function(a,b,c,d,g){ctx.strokeStyle=g;ctx.strokeRect(a,b,c,d)};game=new Game;var canvas=document.getElementById("game"),ctx=canvas.getContext("2d");ctx.canvas.width=window.innerWidth;ctx.canvas.height=window.innerHeight;var width=1920,height=1080,scale=Math.min(canvas.width/width,canvas.height/height),top=canvas.height/2-height*scale/2,left=canvas.width/2-width*scale/2;ctx.setTransform(scale,0,0,scale,left,top);$("#game").mousedown(function(a){a.preventDefault()});
var socket=io(),leaderboard=new Leaderboard,screen=new PlayerScreen,questmenu=new QuestMenu,armory=new Armory,ogreID=1E5*Math.random(),prevChats=[],chatbox=[],bordersFading=!1,prevChatIndex=0,hitSound=1,nearbyNPC,toKill,camera,client,events,game,map,myIndex,offset={x:0,y:0},mouse={x:0,y:0},then,elapsed,fps=50,drawing=!0,lastKeysID=-1,fpsInterval=1E3/fps,noblur=!1,flashid=0,keys=[],items=[],players=[],entities=[],flyingtexts=[],images={},key;
for(key in Sprites){var sprite=Sprites[key],img=new Image;img.src="js/sprites/images/"+sprite+".png";images[sprite]=img}var tilesetImg=new Image;tilesetImg.src="js/world/tilesheet.png";images.tileset=tilesetImg;
var Settings={max_blur:4,tilewidth:32,heal_cost:6,message_flash_diff:150,store_flash_diff:175,idle_camera_speed:{x:-.1,y:-.175},not_admin_message:"You do not have permission to do that!",invalid_command:"Invalid command.",quests_per_page:5,players_per_page:11,nearby_npc_dist:75,player_speed:4.8,player_hit_dist:100,attack_speed:200,player_idle_change:800,player_heal_wait:1E4,entity_idle_change:800,health_bar_width:45,health_bar_height:5,item_float_speed:.15,item_float_dist:15,collision_factor:6},EventType=
{LOAD_FINISH:"load_finish",LOGIN_BEGIN:"login_begin",LOGIN_FINISH:"login_finish",PLAYER_MOVE:"player_move"},EntitySettings={bat:{idle:200,death_xp:20,damage:3,walk_speed:3.8,attack_speed:2E3,hit_dist:90,move_min_dist:125},skeleton:{idle:2500,death_xp:40,damage:5,walk_speed:3.8,attack_speed:2E3,hit_dist:90,move_min_dist:125},spectre:{idle:800,death_xp:50,damage:10,walk_speed:4,attack_speed:1500,hit_dist:90,move_min_dist:125,shadow_offset:5},crab:{idle:800,death_xp:35,damage:4.5,walk_speed:3.8,attack_speed:1800,
hit_dist:90,move_min_dist:125,shadow_offset:-10},snake:{idle:800,death_xp:30,damage:4,walk_speed:3.8,attack_speed:2E3,hit_dist:90,move_min_dist:125,shadow_offset:-10},deathknight:{idle:800,death_xp:55,damage:17,walk_speed:2.8,attack_speed:1800,hit_dist:90,move_min_dist:125,shadow_offset:10},ogre:{idle:800,death_xp:200,damage:20,walk_speed:2.8,attack_speed:2E3,hit_dist:175,move_min_dist:200,shadow_offset:55}},Entity={SKELETON:"skeleton",BAT:"bat",OGRE:"ogre",CRAB:"crab",SPECTRE:"spectre",DEATH_KNIGHT:"deathknight"},
ItemName={apple:"apple",moneybag:"money bag"},Objective={KILL_ENTITY:"KillEntityObjective",KILL_PLAYER:"KillPlayerObjective",TALK_TO_NPC:"TalkToNPCObjective",TALK_IN_CHAT:"TalkInChatObjective",PICKUP_ITEM:"PickupItemObjective"},SwordOffset={UP:{x:-20,y:-35},DOWN:{x:-30,y:-40},LEFT:{x:-20,y:-35},RIGHT:{x:-30,y:-25}},Armor={CLOTH:{type:"armor",id:"clotharmor",name:"Cloth",reduction:0,cost:0},LEATHER:{type:"armor",id:"leatherarmor",name:"Leather",reduction:.1,cost:100},CHAINMAIL:{type:"armor",id:"mailarmor",
name:"Chainmail",reduction:.2,cost:300},FIRE:{type:"armor",id:"redarmor",name:"Fire",reduction:.35,cost:600},IRON:{type:"armor",id:"platearmor",name:"Iron",reduction:.5,cost:800},GOLDEN:{type:"armor",id:"goldenarmor",name:"Golden",reduction:.65,cost:1E3}},Weapon={AXE:{type:"weapon",id:"axe",name:"Axe",damage:10,cost:0},MACE:{type:"weapon",id:"morningstar",name:"Mace",damage:15,cost:100},WATER_SWORD:{type:"weapon",id:"bluesword",name:"Water Sword",damage:20,cost:300},IRON_SWORD:{type:"weapon",id:"sword",
name:"Iron Sword",damage:25,cost:600},FIRE_SWORD:{type:"weapon",id:"redsword",name:"Fire Sword",damage:35,cost:800},GOLDEN_SWORD:{type:"weapon",id:"goldensword",name:"Golden Sword",damage:50,cost:1E3}},StoreType={ARMORY:{name:"Armory",id:"guard"},HEALER:{name:"Healer",id:"priest"}},Key={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right"},KeyCodes={38:Key.UP,87:Key.UP,40:Key.DOWN,83:Key.DOWN,37:Key.LEFT,65:Key.LEFT,39:Key.RIGHT,68:Key.RIGHT},Sound={DEATH:"death",KILL:"kill1",HIT:"hit1",CHAT:"chat",PURCHASE:"purchase",
HEAL:"heal",LEVEL_UP:"levelup"},Orientation={UP:0,DOWN:1,LEFT:2,RIGHT:3},Animations={ATTACK_RIGHT:{name:"atk_right",orientation:3,type:"attack"},WALK_RIGHT:{name:"walk_right",orientation:3,type:"walk"},IDLE_RIGHT:{name:"idle_right",orientation:3,type:"idle"},ATTACK_LEFT:{name:"atk_left",orientation:2,type:"attack"},WALK_LEFT:{name:"walk_left",orientation:2,type:"walk"},IDLE_LEFT:{name:"idle_left",orientation:2,type:"idle"},ATTACK_UP:{name:"atk_up",orientation:0,type:"attack"},WALK_UP:{name:"walk_up",
orientation:0,type:"walk"},IDLE_UP:{name:"idle_up",orientation:0,type:"idle"},ATTACK_DOWN:{name:"atk_down",orientation:1,type:"attack"},WALK_DOWN:{name:"walk_down",orientation:1,type:"walk"},IDLE_DOWN:{name:"idle_down",orientation:1,type:"idle"},DEATH:{name:"death",orientation:1,type:"death"}},TextColor={XP:"#00DF00",LEVEL_UP:"#FF9B2E",GP:"#00BEE4",HURT:"#EB0000",KILL_XP:"#DD9B00",MESSAGE:"#FFFFFF",ADMIN_MESSAGE:"#FF4646",HIGH_HEALTH:"rgba(22, 132, 0, 0.8)",MEDIUM_HEALTH:"rgba(255, 162, 0, 0.8)",
LOW_HEALTH:"rgba(146, 0, 0, 0.8)",NPC_TALK:"#FF9B2E"},MapLayer={TOP:!0,BOTTOM:!1},SortType={LOW_HIGH:"low_high",HIGH_LOW:"high_low"},sounds={};for(key in Sound){var sound=Sound[key],audio=new Audio("js/sounds/"+sound+".mp3");audio.volume=.25;sounds[sound]=audio}window.onload=function(){events.fire(EventType.LOAD_FINISH)};Array.prototype.getPage=function(a,b){var c=(a-1)*b;if(this[c])return this.slice(c,(a-1)*b+b)};
Array.prototype.sortQuests=function(a){a==SortType.LOW_HIGH?this.sort(function(a,c){return a.getMinimumLevel()>c.getMinimumLevel()?1:a.getMinimumLevel()<c.getMinimumLevel()?-1:0}):this.sort(function(a,c){return a.getMinimumLevel()<c.getMinimumLevel()?1:a.getMinimumLevel()>c.getMinimumLevel()?-1:0})};Array.prototype.sortPlayers=function(){this.sort(function(a,b){return a.level.level>b.level.level?-1:a.level.level<b.level.level?1:0})};
Array.prototype.containsName=function(a){for(var b=0;b<this.length;b++)if(this[b].username==a)return b};function me(){return players[myIndex]}function clone(a){return jQuery.extend({},a)}function distance(a,b){return Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function removeAllOccurances(a,b){for(var c=a.length-1;0<=c;c--)a[c]==b&&a.splice(c,1)}function replaceAll(a,b,c){return a.replace(new RegExp(b,"g"),c)}
function editDistance(a,b){a=a.toLowerCase();b=b.toLowerCase();for(var c=[],d=0;d<=a.length;d++){for(var g=d,h=0;h<=b.length;h++)if(0==d)c[h]=h;else if(0<h){var m=c[h-1];a.charAt(d-1)!=b.charAt(h-1)&&(m=Math.min(Math.min(m,g),c[h])+1);c[h-1]=g;g=m}0<d&&(c[b.length]=g)}return c[b.length]}function getSimilarity(a,b){var c=a,d=b;a.length<b.length&&(c=b,d=a);var g=c.length;return 0==g?1:(g-editDistance(c,d))/parseFloat(g)}
function getProperArticle(a){return 0==a.indexOf("a")||0==a.indexOf("e")||0==a.indexOf("i")||0==a.indexOf("o")||0==a.indexOf("u")?"an":"a"}function getNumberWithCommas(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function getNumberWithLeadingZeroes(a){return 10>a&&0<=a?"0"+a.toString():a.toString()}function getRandom(a){return Math.floor(Math.random()*a)}function getFullRandom(a){return.5>=Math.random()?-1*Math.floor(Math.random()*a):Math.floor(Math.random()*a)}
function getRange(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function getAngle(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI};function GameMap(a){this.name=a;this.maxY=this.maxX=0;this.bgcolor="#22AB00";this.front=[];this.collisions=[];this.map_layers=[];this.loadJSON("js/world/"+a+".json",this.draw.bind(this))}
GameMap.prototype.draw=function(a){if(this.data)if(a)for(a=0;a<this.map_layers[1].length;a++){var b=this.map_layers[1][a];game.isVisible(b.true_x,b.true_y)&&this.renderCell(b)}else{for(a=0;a<this.map_layers[0].length;a++)b=this.map_layers[0][a],game.isVisible(b.true_x,b.true_y)&&this.renderCell(b);if(screen.showingDebug())for(a=0;a<this.getMaxX();a+=this.set.tilewidth)for(b=0;b<this.getMaxY();b+=this.set.tileheight)game.strokeRect(a,b,this.set.tilewidth,this.set.tileheight,"rgba(0, 0, 0, 0.6)")}};
GameMap.prototype.renderCell=function(a){0!=a.id&&ctx.drawImage(images.tileset,a.set_x,a.set_y,this.set.tilewidth,this.set.tileheight,a.true_x,a.true_y,this.set.tilewidth,this.set.tileheight)};
GameMap.prototype.loadJSON=function(a,b){var c=this;$.getJSON(a,function(a){c.data=a;c.set=c.data.tilesets[0];for(var g=0;g<c.data.front.length;g++){a=c.data.front[g];for(var h=a.s+1,m=a.w-1,l=a.h,n=0;n<l;n++){var p=h+n*c.set.columns;for(a=p;a<=p+m;a++)c.front.push(a)}}for(g=0;g<c.data.collisions.length;g++)for(a=c.data.collisions[g],h=a.s+1,m=a.w-1,l=a.h,n=0;n<l;n++)for(a=p=h+n*c.set.columns;a<=p+m;a++)c.collisions.push(a);g=[];h=[];c.set_width=c.set.imagewidth/c.set.tilewidth;Settings.tilewidth=
c.set.tilewidth;for(m=0;m<c.data.layers.length;m++)for(l=0;l<c.data.layers[m].data.length;l++){p=c.data.layers[m].data[l];a=l%c.data.layers[m].width;var n=Math.floor((l-a)/c.data.layers[m].height),t=p-c.set.firstgid,B=t%c.set_width*c.set.tilewidth,aa=Math.floor(t/c.set_width)*c.set.tileheight,V=a*c.set.tilewidth,O=n*c.set.tileheight,t=c.front.indexOf(p),p={x:a,y:n,id:p,set_x:B,set_y:aa,true_x:V,true_y:O};0<=t?h.push(p):g.push(p);a*c.data.tilewidth>c.maxX&&(c.maxX=a*c.data.tilewidth);n*c.data.tileheight>
c.maxY&&(c.maxY=n*c.data.tileheight)}c.map_layers[0]=g;c.map_layers[1]=h;c.bgcolor=c.data.background;b()})};GameMap.prototype.getMaxX=function(){return this.maxX};GameMap.prototype.getMaxY=function(){return this.maxY};GameMap.prototype.getCenter=function(){return{x:map.getMaxX()/2,y:map.getMaxY()/2}};GameMap.prototype.getName=function(){return this.name};GameMap.prototype.getBackgroundColor=function(){return this.bgcolor};
GameMap.prototype.getTileAt=function(a,b){for(var c=this.map_layers[0].length-1;0<=c;c--){var d=this.map_layers[0][c];if(0<d.id&&distance({x:a,y:b},{x:d.true_x,y:d.true_y})<=Settings.tilewidth)return d}};maps={main:new GameMap(MapType.MAIN),beach:new GameMap(MapType.BEACH),hell:new GameMap(MapType.HELL)};var Text=function(a,b){this.y=0;this.text=a;this.options=b;this.id=getRandom(1E4);this.death=Date.now()+1500;b.death&&(this.death+=b.death);this.speed=.7;b.speed&&(this.speed=b.speed)};Text.prototype.getID=function(){return this.id};Text.prototype.getOptions=function(){return this.options};Text.prototype.isDead=function(){return Date.now()>this.death};Text.prototype.draw=function(a){this.y-=this.speed;game.drawText(a.x,a.y+this.y,this.text,this.options.size,"rgba(0, 0, 0, 0.75)",4,this.options.color)};var Message=function(a,b){this.text=a;this.color=b;this.death=Date.now()+4E3};Message.prototype.isDead=function(){return Date.now()>this.death};Message.prototype.draw=function(a){game.drawText(a.x+64,a.y+5,this.text,20,"rgba(0, 0, 0, 0.75)",4,this.color)};var Sprite=function(a,b,c,d){this.x=b;this.y=c;this.id=a;this.idle=d;this.animating=!1;this.setData()};Sprite.prototype.setData=function(){var a=this;a.image=images[a.id];$.getJSON("js/sprites/"+this.id+".json",function(b){a.data=b})};Sprite.prototype.isDataSet=function(){return void 0!=this.data};Sprite.prototype.getImage=function(){return this.image};Sprite.prototype.getWidth=function(){return this.data.width};Sprite.prototype.getHeight=function(){return this.data.height};
Sprite.prototype.setX=function(a){this.x=a};Sprite.prototype.setY=function(a){this.y=a};Sprite.prototype.setPosition=function(a,b){this.x=a;this.y=b};Sprite.prototype.setOrientation=function(a){this.orientation=a};Sprite.prototype.getOrientation=function(){return void 0!=this.orientation?this.orientation:1};Sprite.prototype.draw=function(a,b){if(void 0!=this.data&&void 0!=this.image){var c=this.data.width,d=this.data.height;ctx.drawImage(this.image,c*(a-1),d*b,c,d,this.x,this.y,c,d)}};
Sprite.prototype.setIdleAnimation=function(a){this.idleAnim={length:this.data.animations[a.name].length,row:this.data.animations[a.name].row};this.orientation=a.orientation};Sprite.prototype.getIdleAnimation=function(){return void 0!=this.idleAnim?this.idleAnim:this.idle?{length:2,row:0}:{length:2,row:8}};
Sprite.prototype.startAnimation=function(a,b){"attack"==a.type&&(this.animating=!1);if(void 0!=this.data&&void 0!=this.image&&!this.animating){var c=this.data.animations[a.name].length,d=this.data.animations[a.name].row;this.animating=!0;this.orientation=a.orientation;var g=1;b&&(g=c);this.nextAnim={col:g,row:d,length:c,time:Date.now(),anim:a.name,reverse:b}}};Sprite.prototype.stopAnimation=function(a){this.animating&&this.nextAnim.anim==a.name&&(this.animating=!1,this.nextAnim=void 0)};
Sprite.prototype.isDoingAnimation=function(){return void 0!=this.nextAnim};Sprite.prototype.getNextAnimation=function(){var a=this.nextAnim,b=Date.now();if(a&&75<b-a.time){var c=a.col+1;a.reverse&&(c=a.col-1);c<=a.length&&1<=c?this.nextAnim={col:c,row:a.row,length:a.length,time:b,anim:a.anim,reverse:a.reverse}:(this.nextAnim=void 0,this.animating=!1)}return a};Sprite.prototype.stopAllAnimations=function(){this.animating=!1;this.nextAnim=void 0};var KillEntityObjective=function(a,b){this.entity=a;this.amount=b};KillEntityObjective.prototype.getEntity=function(){return this.entity};KillEntityObjective.prototype.getAmount=function(){return this.amount};KillEntityObjective.prototype.getDefaultData=function(){return{kills:0}};KillEntityObjective.prototype.getAlert=function(){return 1<this.amount?"kill "+this.amount+" "+this.entity+"s":"kill "+getProperArticle(this.entity)+" "+this.entity};var KillPlayerObjective=function(){};KillPlayerObjective.prototype.getDefaultData=function(){return{}};KillPlayerObjective.prototype.getAlert=function(){return"kill the player"};var TalkToNPCObjective=function(a){this.name=a};TalkToNPCObjective.prototype.getNPC=function(){return this.name};TalkToNPCObjective.prototype.getDefaultData=function(){return{}};TalkToNPCObjective.prototype.getAlert=function(){return"talk to "+this.name};var TalkInChatObjective=function(a,b){this.clue=a;this.say=b};TalkInChatObjective.prototype.getExpectedMessage=function(){return this.say};TalkInChatObjective.prototype.getDefaultData=function(){return{}};TalkInChatObjective.prototype.getAlert=function(){return this.clue};var PickupItemObjective=function(a,b){this.item=a;this.amount=b};PickupItemObjective.prototype.getItem=function(){return this.item};PickupItemObjective.prototype.getAmount=function(){return this.amount};PickupItemObjective.prototype.getDefaultData=function(){return{items:0}};PickupItemObjective.prototype.getAlert=function(){return"gather "+this.amount+" "+this.item+(1!=this.amount?"s":"")};var Quest=function(a,b,c,d,g){this.title=a;this.minlevel=b;this.objectives=c;this.xp=d;this.gp=g};Quest.prototype.getTitle=function(){return this.title};Quest.prototype.getMinimumLevel=function(){return this.minlevel};Quest.prototype.getObjectives=function(){return this.objectives};Quest.prototype.getObjective=function(a){return this.objectives[a-1]};Quest.prototype.getXPReward=function(){return this.xp};Quest.prototype.getGPReward=function(){return this.gp};var quests=[new Quest("Steve's Dilemma",7,[new KillEntityObjective(Entity.CRAB,5),new KillEntityObjective(Entity.SKELETON,5),new TalkToNPCObjective("Shirtless Steve")],1E3,300),new Quest("Apple Pickers",5,[new PickupItemObjective("apple",5),new TalkToNPCObjective("Farmer Joe")],500,100),new Quest("The Village's Demise",15,[new KillEntityObjective(Entity.OGRE,1),new TalkToNPCObjective("Shirtless Steve")],2E3,1E3),new Quest("Hitmen",7,[new KillPlayerObjective,new TalkToNPCObjective("Agent Smith")],
500,500),new Quest("Joe's Dilemma",9,[new KillEntityObjective(Entity.SPECTRE,10),new TalkToNPCObjective("Farmer Joe")],1500,500)];function getQuestID(a){for(var b=0;b<quests.length;b++)if(quests[b].getTitle()==a)return b}function getQuestNPC(a){for(var b=0;b<all_npcs.length;b++){var c=all_npcs[b];if(c.quest&&c.getQuestID()==a)return c}}function getOgreEntity(){return game.getEntity(ogreID)};var NPC=function(a,b,c,d,g,h,m,l,n,p,t,B){this.name=a;this.id=c;this.x=d;this.y=g;this.map=h;this.idleStep=1;this.lastIdleChange=0;this.interact=!1;this.show=!0;"Nerdy Nate"==this.name&&(this.show=!1);this.dialogue={regular:m,completed:l,low_level:n,doing:p,doing_wrong:t,other_quests:B};this.current_dialogue={messages:m,step:1};this.quest={id:b,given:!1,canStart:!0};this.sprites={npc:new Sprite(c,d,g,!0),shadow:new Sprite(Sprites.SHADOW,d,g)}};NPC.prototype.getQuestID=function(){return this.quest.id};
NPC.prototype.getSprite=function(){return this.sprites.npc};NPC.prototype.getName=function(){return this.name};NPC.prototype.getMap=function(){return this.map};NPC.prototype.getX=function(){return this.x};NPC.prototype.getY=function(){return this.y};NPC.prototype.getDialogue=function(){return this.current_dialogue};NPC.prototype.getTop=function(){return{x:this.getX()-17,y:this.getY()-10}};
NPC.prototype.getCenter=function(){return{x:this.getX()+this.sprites.npc.getWidth()/2,y:this.getY()+this.sprites.npc.getWidth()/2}};NPC.prototype.isObjective=function(){return me().isDoingObjective(Objective.TALK_TO_NPC)&&me().getCurrentObjective().getNPC()==this.name};
NPC.prototype.getCurrentDialogue=function(){if(me().getQuest()&&getQuestID(me().getQuest().getTitle())==this.quest.id)return this.dialogue.doing;if(me().hasCompletedQuest(this.quest.id))return this.dialogue.completed;if(me().getQuest()&&getQuestID(me().getQuest().getTitle())!=this.quest.id)return this.isObjective()&&this.dialogue.other_quests&this.dialogue.other_quests[me().getQuest().getTitle()]?this.dialogue.other_quests[me().getQuest().getTitle()]:this.dialogue.doing_wrong;if(me().getLevel()<quests[this.quest.id].getMinimumLevel())return this.quest.canStart=
!1,this.dialogue.low_level;if(me().getLevel()>=quests[this.quest.id].getMinimumLevel())return this.quest.canStart=!0,this.dialogue.regular};
NPC.prototype.talk=function(){this.stepTask&&clearInterval(this.stepTask);this.isObjective()&&me().advanceQuest();this.current_dialogue.messages=this.getCurrentDialogue();var a=this.current_dialogue.messages[this.current_dialogue.step-1];a||(this.quest.given||me().hasCompletedQuest(this.quest.id)||me().getQuest()||!this.quest.canStart||(me().startQuest(this.quest.id),this.quest.given=!0),this.current_dialogue.step=0,this.message=void 0,a=this.current_dialogue.messages[this.current_dialogue.step-1]);
a&&(a=replaceAll(a,"%name",me().getName()),a=replaceAll(a,"%level",quests[this.quest.id].getMinimumLevel()),toKill&&(a=replaceAll(a,"%tokill",toKill.getName())),this.message=new Message(a,TextColor.NPC_TALK),game.playSound(Sound.CHAT));this.current_dialogue.step++;var b=this;this.stepTask=setTimeout(function(){b.current_dialogue.step=1},4E3)};NPC.prototype.showInteraction=function(){this.interact=!0};NPC.prototype.hideInteraction=function(){this.interact=!1};
NPC.prototype.onMap=function(){return this.map==map.getName()};
NPC.prototype.draw=function(){if(this.onMap()&&this.show){this.sprites.shadow.isDataSet()&&(this.sprites.shadow.setX(this.x+this.sprites.npc.getWidth()/2-this.sprites.shadow.getWidth()/2),this.sprites.shadow.setY(this.y+this.sprites.npc.getHeight()/2+6));this.sprites.shadow.draw(1,0);var a=this.sprites.npc.getIdleAnimation(),b=this.lastIdleChange+Settings.player_idle_change+1E3*Math.random();Date.now()>b&&(this.idleStep+=1,this.idleStep>a.length&&(this.idleStep=1),this.lastIdleChange=Date.now());
this.sprites.npc.draw(this.idleStep,a.row);game.drawText(this.getCenter().x,this.getY()+this.getSprite().getHeight()+10,this.name,16,"#000",5,"#fff");this.interact&&(distance(me().getCenter(),this.getCenter())>=Settings.nearby_npc_dist?this.interact=!1:game.drawText(this.getCenter().x,this.getY()+this.getSprite().getHeight()+27,"Press E to interact",14,"#000",5,"#00BA19"));this.message&&!this.message.isDead()?this.message.draw(this.getTop()):this.message=void 0;client.entities_onscreen++}};var StoreNPC=function(a,b,c,d){this.x=a;this.y=b;this.map=c;this.type=d;this.id=d.id;this.name=d.name;this.idleStep=1;this.lastIdleChange=0;this.interact=!1;this.sprites={npc:new Sprite(this.id,a,b,!0),shadow:new Sprite(Sprites.SHADOW,a,b)}};StoreNPC.prototype.getSprite=function(){return this.sprites.npc};StoreNPC.prototype.getType=function(){return this.type};StoreNPC.prototype.getMap=function(){return this.map};StoreNPC.prototype.getX=function(){return this.x};StoreNPC.prototype.getY=function(){return this.y};
StoreNPC.prototype.getTop=function(){return{x:this.getX()-17,y:this.getY()-10}};StoreNPC.prototype.getCenter=function(){return{x:this.getX()+this.getSprite().getWidth()/2,y:this.getY()+this.getSprite().getWidth()/2}};StoreNPC.prototype.talk=function(a){this.message=new Message(a,TextColor.NPC_TALK);game.playSound(Sound.CHAT)};StoreNPC.prototype.onMap=function(){return this.map==map.getName()};StoreNPC.prototype.showInteraction=function(){this.interact=!0};
StoreNPC.prototype.hideInteraction=function(){this.interact=!1};
StoreNPC.prototype.draw=function(){if(this.onMap()){this.sprites.shadow.isDataSet()&&(this.sprites.shadow.setX(this.x+this.sprites.npc.getWidth()/2-this.sprites.shadow.getWidth()/2),this.sprites.shadow.setY(this.y+this.sprites.npc.getHeight()/2+6));this.sprites.shadow.draw(1,0);var a=this.getSprite().getIdleAnimation(),b=this.lastIdleChange+Settings.player_idle_change+1E3*Math.random();Date.now()>b&&(this.idleStep+=1,this.idleStep>a.length&&(this.idleStep=1),this.lastIdleChange=Date.now());this.getSprite().draw(this.idleStep,
a.row);game.drawText(this.getCenter().x,this.getY()+this.getSprite().getHeight()+10,this.name,16,"#000",5,"#fff");this.interact&&(distance(me().getCenter(),this.getCenter())>=Settings.nearby_npc_dist?this.interact=!1:game.drawText(this.getCenter().x,this.getY()+this.getSprite().getHeight()+27,"Press E to interact",14,"#000",5,"#00BA19"));this.message&&!this.message.isDead()?this.message.draw(this.getTop()):this.message=void 0;client.entities_onscreen++}};var store_npcs=[new StoreNPC(1530,1375,MapType.MAIN,StoreType.ARMORY)],all_npcs=[new NPC("Shirtless Steve",0,"beachnpc",760,220,MapType.BEACH,"Hello there, traveler.;How are you today?;I have a job for you!;See all of these mobs around me?;I'm too scared to fight them alone.;Get rid of them, and I'll reward you!".split(";"),["Thank you so much for killing those mobs.","I have another urgent quest for you...","however, you must be much stronger.","Reach level %level, and maybe buy better armor."],
["Hello there!","Hmm, I have a quest for you.","However, you need to be a little stronger!","Come back to me when you're level 10."],["Get to killing, traveler!","I will reward you... once you've finished!"],["Hey there!","I would ask you to do a job for me...","But you seem to be busy already.","Maybe once you're done!"]),new NPC("Shirtless Steve",3,"beachnpc",760,220,MapType.BEACH,"The troll has returned!;Decades ago, he was chased from our village.;Now, he seeks revenge!;It seems he has risen straight from the ocean.;Don't let him reach our village!;Kill him for good this time!".split(";"),
["I can't believe it...","You've killed the troll!","He will never again step foot in our village!","You are our hero!"],["Thank you so much for killing those mobs.","I have another urgent quest for you...","however, you must be much stronger.","Reach level %level, and maybe buy better armor."],["Have you killed the troll yet?","It won't be long until he starts killing all of us!"],["Hey there!","I would ask you to do a job for me...","But you seem to be busy already.","Maybe once you're done!"]),
new NPC("Nerdy Nate",1,"coder",225,340,MapType.MAIN,"Greetings, %name.;I hear you think you're a better coder than me?;Bahaha! Fool.;Tell you what...;If you can answer me this question, I'll admit defeat.;What is a variable?".split(";"),["My word... I suppose you are the better coder.","I admit my defeat to you.","You don't have to rub it in."],["Greetings, young traveler.","Pass along, you're unworthy of my quests.","Try coming back when you're level %level."],["Answer my question: what is a variable?",
"Come on now, I haven't got all day.","Type out your answer in chat, any day now!","Simply press ENTER and type your answer!"],["Hello there, foolish coder!","I would challenge your intelligence...","But you seem to be busy already.","Maybe once you're done!"]),new NPC("Nerdy Nate",6,"coder",225,340,MapType.MAIN,["We meet again, %name.","This time you shall not embarrass me.","What is a class?"],["My word... I suppose you are the better coder.","I admit my defeat to you.","You don't have to rub it in."],
["Greetings again, %name.","You're unworthy of my next question.","Try coming back when you're level %level."],["Answer my question: what is a class?","The answer is a single word, less than 10 letters.","Type out your answer in chat, any day now!","Simply press ENTER and type your answer!"],["Hello again, %name!","I would challenge your intelligence once more...","But you seem to be busy already.","Maybe once you're done!"]),new NPC("Farmer Joe",2,"desertnpc",1367,376,MapType.MAIN,["Howdy there, partner!",
"I was just about to gather me up some dinner.","Problem is... the darned bats stole my fresh apples!","This old man ain't got the strength to fight no more.","Go kill them bats, hopefully they'll drop my apples!"],["Now that's what I'm talking 'bout!","Sally'll be so proud of me...","I'll see ya around kid."],["These darn bats!","Hey you, if you ever reach level %level...","me 'n you could have a little chat."],["Have you gotten the food yet?","The bats stole the apples from me!","I'll pay ya to get them back, I swear on it!"],
["Howdy partner!","You seem a little busy, don't ya.","I won't bother you with my worries."]),new NPC("Farmer Joe",5,"desertnpc",1367,376,MapType.MAIN,["%name!","I need you again!","I'm trying to expand my farm.","But all land north of here is haunted!","Kill some of them spectres up there for me, would ya?"],["You are one mighty good man.","A gentleman and a scholar!"],["Hey there %name.","I'll need you again soon!","Once you reach level %level, talk to me!"],["Have you killed the spectres?","Tell me when you've killed them off!"],
["Howdy partner!","You seem a little busy, don't ya.","I won't bother you with my worries."]),new NPC("Agent Smith",4,"agent",1363,573,MapType.BEACH,["I've been scammed. I don't like this.","Hey you. You seem like the nefarious type.",'I want you to kill a man named "%tokill".',"I'll pay you very well."],["Excellent. That'll improve my reputation.","Nobody will cross me again.","I hope you enjoy your extra large payment."],["Scammers!","I've been scammed.","If you reach level %level, talk to me."],
['I need you to kill "%tokill"!',"They won't get away with this."],["You look busy.","I mustn't bother you right now."])],npcs=[];function updateNPCs(){npcs=[];npcs=npcs.concat(store_npcs);for(var a=0;a<all_npcs.length;a++){var b=all_npcs[a];b.quest&&npcs.push(getBestNPC(b.getName()))}}function getAmountOfNPC(a){for(var b=0,c=0;c<all_npcs.length;c++){var d=all_npcs[c];d.quest&&d.getName()==a&&b++}return b}
function getHighestLevelNPC(a){for(var b,c=0,d=0;d<all_npcs.length;d++){var g=all_npcs[d];if(g.quest){var h=quests[g.getQuestID()].getMinimumLevel();g.getName()==a&&h>c&&(b=g,c=h)}}return b}
function getBestNPC(a){for(var b,c=0;c<all_npcs.length;c++){var d=all_npcs[c];if(d.quest&&d.getName()==a)if(me().hasQuest()&&getQuestID(me().getQuest().getTitle())==d.getQuestID()){b=d;break}else if(quests[d.getQuestID()].getMinimumLevel(),!me().hasCompletedQuest(d.getQuestID())){b=d;break}}b||(b=getHighestLevelNPC(a));return b};var Item=function(a,b,c,d){this.x=b;this.y=c;this.map=d;this.id=a;this.idleStep=1;this.lastIdleChange=0;this.death=Date.now()+3E4;this.floating=!0;this.float_y=c;this.sprites={item:new Sprite(a,b,c,!0),shadow:new Sprite(Sprites.SHADOW,b,c)}};Item.prototype.getSprite=function(){return this.sprites.item};Item.prototype.setPosition=function(a,b){this.x=a;this.y=b;this.sprites.item.setX(a);this.sprites.shadow.setX(a);this.sprites.item.setY(b);this.sprites.shadow.setY(b);this.float_y=b};
Item.prototype.getX=function(){return this.x};Item.prototype.getY=function(){return this.y};Item.prototype.getID=function(){return this.id};Item.prototype.getName=function(){return ItemName[this.id]};Item.prototype.getCenter=function(){return{x:this.x+this.sprites.item.getWidth()/2,y:this.y+this.sprites.item.getWidth()/2}};Item.prototype.onMap=function(){return this.map==map.getName()};
Item.prototype.draw=function(){this.onMap()&&(this.sprites.shadow.isDataSet()&&(this.sprites.shadow.setX(this.x+this.sprites.item.getWidth()/2-this.sprites.shadow.getWidth()/2),this.sprites.shadow.setY(this.y+this.sprites.item.getHeight()/2+6)),this.sprites.shadow.draw(1,0),this.sprites.item.setY(this.float_y),this.sprites.item.draw(1,0),this.floating?(this.float_y+=Settings.item_float_speed,this.float_y-this.y>Settings.item_float_dist&&(this.floating=!1)):(this.float_y-=Settings.item_float_speed,
0>=this.float_y-this.y&&(this.floating=!0)),0<=Date.now()-this.death&&game.removeItem(this),game.drawText(this.x+this.sprites.item.getWidth()/2,this.float_y+this.sprites.item.getHeight()+25,"Press E to pick up",15,"#000",5,"#fff"),client.entities_onscreen++)};var Player=function(a,b,c,d,g,h,m,l){this.uuid=a;this.name=b;this.level=c;this.inventory=d;this.position=g;this.gp=m;this.hp=100;this.keys=[];this.map=l;this.armor=game.getArmorFromID(d.armor);this.sword=game.getWeaponFromID(d.sword);this.quests=h;this.progress={quest:void 0,step:0,data:void 0};0<=this.quests.current&&!me()&&(this.progress.quest=quests[this.quests.current],this.progress.data=this.quests.data,this.progress.step=this.quests.step);this.idleStep=1;this.lastIdleChange=0;this.flyingtexts=
[];this.blocktext=!1;this.healStep=this.lastHurt=this.lastAttack=this.totalAggressed=0;this.muted=this.dead=!1;this.sprites={player:new Sprite(d.armor,g.x,g.y),shadow:new Sprite(Sprites.SHADOW,g.x,g.y),sword:new Sprite(d.sword,g.x,g.y),death:new Sprite(Sprites.DEATH,g.x,g.y)}};Player.prototype.isClient=function(){this.isclient||(this.isclient=me().getUUID()==this.uuid);return this.isclient};
Player.prototype.getObject=function(){return{uuid:this.uuid,username:this.name,level:this.level,inv:this.inventory,pos:this.position,quests:this.quests,gp:this.gp}};Player.prototype.getUUID=function(){return this.uuid};Player.prototype.getName=function(){return this.name};Player.prototype.isAdmin=function(){return"admin"==this.name||"joeythelemon"==this.name};Player.prototype.getArmor=function(){return this.inventory.armor};Player.prototype.getMap=function(){return this.map};
Player.prototype.setMap=function(a){this.map=a};Player.prototype.getX=function(){return this.position.x};Player.prototype.getY=function(){return this.position.y};Player.prototype.getPosition=function(){return this.position};Player.prototype.setX=function(a){-15<a&&a+90<map.getMaxX()&&(this.position.x=a,this.sprites.player.setX(a),this.sprites.sword.setX(a+game.getSwordOffset(this.sprites.player.getOrientation).x),this.isClient()&&events.fire(EventType.PLAYER_MOVE))};
Player.prototype.setY=function(a){-15<a&&a+90<map.getMaxY()&&(this.position.y=a,this.sprites.player.setY(a),this.sprites.sword.setY(a+game.getSwordOffset(this.sprites.player.getOrientation).y))};Player.prototype.getNextPosition=function(){var a=client.getMovement(myIndex);return{x:this.getCenter().x+a.x*-Settings.collision_factor,y:this.getCenter().y+a.y*-Settings.collision_factor}};
Player.prototype.isNextPositionValid=function(){var a=this.getNextPosition();return{x:!game.collides(a.x,this.getCenter().y),y:!game.collides(this.getCenter().x,a.y)}};Player.prototype.getCenter=function(){return{x:this.position.x+64,y:this.position.y+64}};Player.prototype.getTop=function(){return{x:this.getCenter().x,y:this.position.y+20}};Player.prototype.setKeys=function(a){this.keys=a};Player.prototype.getKeys=function(){return this.keys};Player.prototype.clearKeys=function(){this.keys=[];this.sprites.player.stopAllAnimations()};
Player.prototype.getSprite=function(){return this.sprites.player};Player.prototype.giveArmor=function(a){this.inventory.armor=a.id;this.armor=a;this.sprites.player=new Sprite(this.inventory.armor,this.position.x,this.position.y);this.isClient()&&this.sendInventoryUpdate()};Player.prototype.getArmor=function(){return this.armor};
Player.prototype.giveWeapon=function(a){this.inventory.sword=a.id;this.sword=a;this.sprites.sword=new Sprite(this.inventory.sword,this.position.x,this.position.y);this.isClient()&&this.sendInventoryUpdate()};Player.prototype.getWeapon=function(){return this.sword};
Player.prototype.giveItem=function(a,b){this.isDoingObjective(Objective.PICKUP_ITEM)&&a.getID()==this.getCurrentObjective().getItem()?(this.increaseQuestData("items"),this.getQuestData().items>=this.getCurrentObjective().getAmount()&&this.advanceQuest()):(this.inventory.items[a.getID()]?this.inventory.items[a.getID()]+=b:this.inventory.items[a.getID()]=b,this.isClient()&&this.sendInventoryUpdate())};
Player.prototype.takeItem=function(a,b){this.inventory.items[a.getID()]&&(this.inventory.items[a.getID()]-=b,0>this.inventory.items[a.getID()]&&(this.inventory.items[a.getID()]=0));this.sendInventoryUpdate()};Player.prototype.getItems=function(){return this.inventory.items};Player.prototype.sendInventoryUpdate=function(a){a={index:myIndex,uuid:me().uuid,newinv:this.inventory};game.broadcast(Messages.UPDATE_INV,a)};
Player.prototype.addGP=function(a){this.gp+=a;game.broadcast(Messages.UPDATE_GP,{newgp:this.gp});this.updateGPValue();this.isClient()&&(a=new Text("+"+a+" gp",{size:25,color:TextColor.GP}),this.addText(a))};Player.prototype.removeGP=function(a){this.gp-=a;game.broadcast(Messages.UPDATE_GP,{newgp:this.gp});this.updateGPValue();this.isClient()&&(a=new Text("-"+a+" gp",{size:20,color:TextColor.HURT}),this.addText(a))};Player.prototype.getGP=function(a){return this.gp};
Player.prototype.updateGPValue=function(){$("#gp").html(getNumberWithCommas(this.gp))};Player.prototype.getLevelObject=function(){return this.level};Player.prototype.getLevel=function(){return this.level.level};Player.prototype.setLevel=function(a){this.level.level=a};Player.prototype.addLevel=function(){this.level.level+=1};Player.prototype.getXP=function(){return this.level.xp};Player.prototype.setXP=function(a){this.level.xp=a};
Player.prototype.addXP=function(a,b){b=void 0===b?TextColor.XP:b;this.level.xp+=a;var c=new Text("+"+a+" xp",{size:25,color:b});this.addText(c);game.broadcast(Messages.UPDATE_XP,{newxp:this.level.xp});this.canLevelUp()&&this.levelUp();this.updateXPBar()};Player.prototype.updateXPBar=function(){var a=game.getNextLevel(this.level.level-1),b=this.level.xp-a;0>b&&(b=0);a=b/(game.getNextLevel(this.level.level)-a)*100;$("#xp-bar").css("width",a.toString()+"%");$("#xp-bar-value").html(getNumberWithLeadingZeroes(b))};
Player.prototype.canLevelUp=function(){return this.getXP()>game.getNextLevel(this.getLevel())};Player.prototype.levelUp=function(){this.setLevel(game.getLevelFromXP(this.getXP()));var a=new Text("Level Up!",{size:40,block:!0,color:TextColor.LEVEL_UP,death:1E3,speed:.4});this.addText(a);game.playSound(Sound.LEVEL_UP);game.broadcast(Messages.LEVEL_UP,{index:myIndex,uuid:me().getUUID(),newlevel:this.level.level})};Player.prototype.hasQuest=function(){return void 0!=this.progress.quest};
Player.prototype.isDoingObjective=function(a){return this.progress.quest?this.progress.quest.getObjective(this.progress.step).constructor.name==a:!1};Player.prototype.getQuest=function(){return this.progress.quest};Player.prototype.getQuestStep=function(){return this.progress.step};Player.prototype.getQuestData=function(){return this.progress.data};Player.prototype.increaseQuestData=function(a){this.progress.data[a]++;this.quests.data[a]++;this.sendQuestUpdate()};
Player.prototype.getCurrentObjective=function(){return this.progress.quest.getObjective(this.progress.step)};Player.prototype.startQuest=function(a){this.progress.quest=quests[a];this.progress.step=0;this.quests.current=a;this.advanceQuest()};
Player.prototype.advanceQuest=function(){this.progress.step++;this.getCurrentObjective()?(this.progress.data=this.getCurrentObjective().getDefaultData(),this.quests.data=this.getCurrentObjective().getDefaultData(),this.quests.step=this.progress.step,game.flashMessage("<span style='color:#FF9B2E'>New objective:</span> "+this.getCurrentObjective().getAlert())):this.completeQuest();this.sendQuestUpdate()};
Player.prototype.completeQuest=function(){this.addXP(this.getQuest().getXPReward());this.addGP(this.getQuest().getGPReward());var a=new Text("Quest Complete!",{size:30,block:!0,color:TextColor.LEVEL_UP,death:1E3,speed:.4});this.addText(a);game.flashMessage("<span style='color:#FF9B2E'>Completed:</span> \""+this.getQuest().getTitle()+'"');this.quests.completed.push(getQuestID(this.getQuest().getTitle()));this.quests.current=-1;this.quests.step=-1;this.quests.data={};this.sendQuestUpdate();this.progress.quest=
void 0;this.progress.step=1;this.progress.data=void 0;updateNPCs()};Player.prototype.hasCompletedQuest=function(a){return 0<=this.quests.completed.indexOf(a)};Player.prototype.getCompletedQuests=function(){for(var a=[],b=0;b<this.quests.completed.length;b++)a.push(quests[this.quests.completed[b]]);a.sortQuests(SortType.HIGH_LOW);return a};
Player.prototype.getIncompletedQuests=function(){for(var a=[],b=0;b<quests.length;b++)-1==this.quests.completed.indexOf(b)&&this.progress.quest!=quests[b]&&a.push(quests[b]);a.sortQuests(SortType.LOW_HIGH);return a};Player.prototype.sendQuestUpdate=function(a){game.broadcast(Messages.UPDATE_QUESTS,{quests:clone(this.quests)})};
Player.prototype.addText=function(a){this.blocktext||(a.getOptions().block?(this.flyingtexts=[],this.blocktext=!0):3<=this.flyingtexts.length&&this.flyingtexts.splice(0,1),this.flyingtexts.push(a))};Player.prototype.say=function(a){var b=TextColor.MESSAGE,c="#CCCCCC";this.isAdmin()&&(b=TextColor.ADMIN_MESSAGE,c="#C63A3A");this.message=new Message(a,b);game.appendChat("<span style='color:"+c+"'>"+this.getName()+":</span> "+a+"<br>");this.isClient()&&game.playSound(Sound.CHAT)};
Player.prototype.move=function(a){"up"==a?(this.getSprite().startAnimation(Animations.WALK_UP),this.getSprite().setIdleAnimation(Animations.IDLE_UP)):"down"==a?(this.getSprite().startAnimation(Animations.WALK_DOWN),this.getSprite().setIdleAnimation(Animations.IDLE_DOWN)):"left"==a?(this.getSprite().startAnimation(Animations.WALK_LEFT),this.getSprite().setIdleAnimation(Animations.IDLE_LEFT)):"right"==a&&(this.getSprite().startAnimation(Animations.WALK_RIGHT),this.getSprite().setIdleAnimation(Animations.IDLE_RIGHT))};
Player.prototype.getDamage=function(){return this.getWeapon().damage};Player.prototype.canAttack=function(){return Date.now()-this.lastAttack>Settings.attack_speed};
Player.prototype.attack=function(){var a=this.sprites.player.getOrientation();a==Orientation.UP?(this.sprites.player.startAnimation(Animations.ATTACK_UP),this.sprites.player.setIdleAnimation(Animations.IDLE_UP)):a==Orientation.DOWN?(this.sprites.player.startAnimation(Animations.ATTACK_DOWN),this.sprites.player.setIdleAnimation(Animations.IDLE_DOWN)):a==Orientation.LEFT?(this.sprites.player.startAnimation(Animations.ATTACK_LEFT,!0),this.sprites.player.setIdleAnimation(Animations.IDLE_LEFT)):a==Orientation.RIGHT&&
(this.sprites.player.startAnimation(Animations.ATTACK_RIGHT),this.sprites.player.setIdleAnimation(Animations.IDLE_RIGHT));if(this.isClient()){this.lastAttack=Date.now();var a=this.getDamage(),b=game.getHitEntity(this.getCenter(),this.getSprite().getOrientation()),c=game.getHitPlayer();if(b)if(game.playSound(Sound.HIT),0<b.getHP()-a)game.broadcast(Messages.ATTACK_ENTITY,{uid:b.getUID(),amount:a,player:me().getUUID()}),b.isAggressive()||b.aggro(this);else{game.broadcast(Messages.KILL_ENTITY,{uid:b.getUID(),
player:me().getUUID()});"bat"==b.id&&me().hasQuest()&&"Apple Pickers"==me().getQuest().getTitle()&&me().isDoingObjective(Objective.PICKUP_ITEM)?.5>=Math.random()&&game.addItem("apple",b.getCenter().x,b.getCenter().y,b.getMap()):"deathknight"==b.id&&.3>=Math.random()&&game.addItem("moneybag",b.getCenter().x,b.getCenter().y,b.getMap());game.playSound(Sound.KILL);if(.35>=Math.random()){var d=getRange(5,15);setTimeout(function(){me().addGP(d)},500)}this.isDoingObjective(Objective.KILL_ENTITY)&&b.getID()==
this.getCurrentObjective().getEntity()&&(this.increaseQuestData("kills"),this.getQuestData().kills>=this.getCurrentObjective().getAmount()&&this.advanceQuest())}else c&&this.isDoingObjective(Objective.KILL_PLAYER)&&(game.playSound(Sound.HIT),game.broadcast(Messages.ATTACK_PLAYER,{index:game.getPlayerByUUID(c.getUUID()),uuid:"none",amount:a}),this.addXP(15))}};Player.prototype.updateHPBar=function(){var a=Math.floor(this.hp/100*100);$("#hp-bar").css("width",a.toString()+"%");$("#hp").html(getNumberWithLeadingZeroes(this.hp))};
Player.prototype.getHP=function(){return this.hp};Player.prototype.hurt=function(a){a*=1-this.getArmor().reduction;a=Math.floor(a);var b=new Text("-"+a+" hp",{size:20,color:TextColor.HURT});this.addText(b);this.isClient()&&(this.lastHurt=Date.now(),0<this.hp-a?(this.hp-=a,this.updateHPBar()):this.kill(),bordersFading||(bordersFading=!0,$("#borders").fadeIn(25),$("#borders").delay(500).fadeOut(500),setTimeout(function(){bordersFading=!1},1E3)))};
Player.prototype.softHurt=function(a){a*=1-this.getArmor().reduction;a=Math.floor(a);var b=new Text("-"+a+" hp",{size:20,color:TextColor.HURT});this.addText(b);this.isClient()&&(0<this.hp-a?(this.hp-=a,this.updateHPBar()):this.softKill())};Player.prototype.heal=function(a){var b=new Text("+"+a+" hp",{size:20,color:TextColor.XP});this.addText(b);game.playSound(Sound.HEAL);this.isClient()&&(this.hp+=a,this.updateHPBar())};
Player.prototype.kill=function(){this.dead=!0;this.sprites.death.setX(this.getCenter().x-24);this.sprites.death.setY(this.getCenter().y-15);this.sprites.death.startAnimation(Animations.DEATH);this.giveWeapon(Weapon.AXE);this.giveArmor(Armor.CLOTH);this.isClient()&&(this.hp=0,this.updateHPBar(),screen.showDeathScreen(),armory.setStoreItems(),game.broadcast(Messages.DEATH,{index:myIndex,uuid:this.uuid}),setTimeout(function(){var a=getOgreEntity();a&&a.setHP(a.maxhp)},100))};
Player.prototype.softKill=function(){this.dead=!0;this.sprites.death.setX(this.getCenter().x-24);this.sprites.death.setY(this.getCenter().y-15);this.sprites.death.startAnimation(Animations.DEATH);this.isClient()&&(this.hp=0,this.updateHPBar(),screen.showDeathScreen(),game.broadcast(Messages.SOFT_DEATH,{index:myIndex,uuid:this.uuid}))};
Player.prototype.revive=function(){this.dead=!1;this.isClient()&&(this.hp=100,this.updateHPBar(),game.switchMap(MapType.MAIN,!1),offset.x=-map.maxX/2+canvas.width/2-150,offset.y=-map.maxY/2+canvas.height/2,me().setX(game.getCenter().x),me().setY(game.getCenter().y),screen.hideDeathScreen(),game.broadcast(Messages.REVIVE,{index:myIndex,uuid:this.uuid}))};Player.prototype.isDead=function(){return this.dead};Player.prototype.onMap=function(){return this.map==map.getName()};
Player.prototype.draw=function(){if(this.isClient()||this.onMap())if(this.dead){var a=this.sprites.death.getNextAnimation();a&&this.sprites.death.draw(a.col,a.row)}else{var b=Date.now();this.sprites.shadow.isDataSet()&&(this.sprites.shadow.setX(this.position.x+38),this.sprites.shadow.setY(this.position.y+64+6),this.sprites.shadow.draw(1,0));this.sprites.player.isDoingAnimation()?(a=this.sprites.player.getNextAnimation(),this.sprites.player.draw(a.col,a.row),this.sprites.sword.draw(a.col,a.row)):(a=
this.sprites.player.getIdleAnimation(),b>this.lastIdleChange+Settings.player_idle_change&&(this.idleStep+=1,this.idleStep>a.length&&(this.idleStep=1),this.lastIdleChange=b),this.sprites.player.draw(this.idleStep,a.row),this.sprites.sword.draw(this.idleStep,a.row));a=game.getLevelColor(this.level.level);game.drawText(this.position.x+64,this.position.y+128,this.name,19,"#000",5,"#fff");game.drawText(this.position.x+64,this.position.y+148,"Lvl. "+this.level.level,15,"#000",3,a);for(a=0;a<this.flyingtexts.length;a++){var c=
this.flyingtexts[a];c.draw(this.getTop());c.isDead()&&(this.flyingtexts.splice(a,1),c.getOptions().block&&(this.blocktext=!1))}this.message&&!this.message.isDead()?(a=clone(this.getPosition()),"clotharmor"==this.inventory.armor&&(a.y+=10),this.message.draw(a)):this.message=void 0;0>=this.totalAggressed&&100>this.hp&&0<this.lastHurt&&b-this.lastHurt>Settings.player_heal_wait&&(0==this.healStep&&(this.hp+=1,this.updateHPBar(),100<=this.hp&&(this.hp=100,this.healStep=this.lastHurt=0)),this.healStep++,
5<this.healStep&&(this.healStep=0));client.players_onscreen++}};Entity=function(a,b,c,d,g,h,m){this.id=a;this.uid=b;this.x=c;this.y=d;this.orig_loc={x:c,y:d};this.maxhp=this.hp=g;this.clientside=m;this.map=h;this.lastMove=0;this.flyingtexts=[];this.idleStep=1;this.lastIdleChange=0;this.dead=!1;this.sprites={entity:new Sprite(a,c,d),shadow:new Sprite(Sprites.SHADOW,c,d),death:new Sprite(Sprites.DEATH,c,d)}};Entity.prototype.getSprite=function(){return this.sprites.entity};
Entity.prototype.getShadowOffset=function(){return this.getSettings().shadow_offset?this.getSettings().shadow_offset:6};Entity.prototype.getSettings=function(){return EntitySettings[this.id]};Entity.prototype.getID=function(){return this.id};Entity.prototype.getUID=function(){return this.uid};Entity.prototype.getHP=function(){return this.hp};Entity.prototype.setHP=function(a){this.hp=a};Entity.prototype.getMap=function(){return this.map};Entity.prototype.setX=function(a){this.x=a;this.sprites.entity.setX(a)};
Entity.prototype.setY=function(a){this.y=a;this.sprites.entity.setY(a)};Entity.prototype.setPosition=function(a,b){this.x=a;this.sprites.entity.setX(a);this.y=b;this.sprites.entity.setY(b)};Entity.prototype.getX=function(){return this.x};Entity.prototype.getY=function(){return this.y};Entity.prototype.getPosition=function(){return{x:this.x,y:this.y}};
Entity.prototype.getCenter=function(){return this.sprites.entity.isDataSet()?{x:this.getX()+this.sprites.entity.getWidth()/2,y:this.getY()+this.sprites.entity.getWidth()/2}:{x:this.getX(),y:this.getY()}};Entity.prototype.getTopLeft=function(){return{x:this.getX()-this.sprites.entity.getWidth()/2,y:this.getY()+this.sprites.entity.getWidth()/3}};Entity.prototype.getTop=function(){return{x:this.getX()+this.sprites.entity.getWidth()/2,y:this.getY()+this.sprites.entity.getHeight()/5}};
Entity.prototype.getBottomCenter=function(){return{x:this.getX()+this.sprites.entity.getWidth()/2-Settings.health_bar_width/2,y:this.getY()+this.sprites.entity.getHeight()-20}};Entity.prototype.addText=function(a){this.blocktext||(3<=this.flyingtexts.length&&this.flyingtexts.splice(0,1),this.flyingtexts.push(a))};Entity.prototype.hurt=function(a){this.hp-=a;a=new Text("-"+a+" hp",{size:17,color:TextColor.HURT});this.addText(a);this.move(this.x+1,this.y+1)};
Entity.prototype.attack=function(a){var b=game.getOrientation(this.getCenter(),a.getCenter());a.hurt(this.getSettings().damage);this.aggressive.lastAttack=Date.now();a.isClient()&&game.playSound(Sound.HIT);this.sprites.entity.setOrientation(b);b==Orientation.UP?(this.sprites.entity.startAnimation(Animations.ATTACK_UP),this.sprites.entity.setIdleAnimation(Animations.IDLE_UP)):b==Orientation.DOWN?(this.sprites.entity.startAnimation(Animations.ATTACK_DOWN),this.sprites.entity.setIdleAnimation(Animations.IDLE_DOWN)):
b==Orientation.LEFT?(this.sprites.entity.startAnimation(Animations.ATTACK_LEFT),this.sprites.entity.setIdleAnimation(Animations.IDLE_LEFT)):b==Orientation.RIGHT&&(this.sprites.entity.startAnimation(Animations.ATTACK_RIGHT),this.sprites.entity.setIdleAnimation(Animations.IDLE_RIGHT))};Entity.prototype.canAttack=function(){return Date.now()-this.aggressive.lastAttack>this.getSettings().attack_speed};
Entity.prototype.aggro=function(a){this.aggressive={player:a,lastAttack:0};this.aggressive.player.isClient()&&(me().totalAggressed++,game.broadcast(Messages.AGGRO,{uid:this.uid,player:a.getUUID(),map:this.getMap()}))};Entity.prototype.isAggressive=function(){return void 0!=this.aggressive};Entity.prototype.resetAggressiveness=function(){this.aggressive.player.isClient()&&me().totalAggressed--;this.dest=this.aggressive=void 0;var a=getOgreEntity();a&&this.getUID()==a.getUID()&&a.setHP(a.maxhp)};
Entity.prototype.getDistanceFromTarget=function(){return distance(this.getTop(),this.aggressive.player.getCenter())};Entity.prototype.kill=function(){this.dead=!0;this.death=Date.now();this.sprites.death.startAnimation(Animations.DEATH);this.aggressive&&this.aggressive.player.isClient()&&me().totalAggressed--};Entity.prototype.isDead=function(){return this.dead};
Entity.prototype.startMoveAnimation=function(a){a==Orientation.UP?(this.sprites.entity.startAnimation(Animations.WALK_UP),this.sprites.entity.setIdleAnimation(Animations.IDLE_UP)):a==Orientation.DOWN?(this.sprites.entity.startAnimation(Animations.WALK_DOWN),this.sprites.entity.setIdleAnimation(Animations.IDLE_DOWN)):a==Orientation.LEFT?(this.sprites.entity.startAnimation(Animations.WALK_LEFT),this.sprites.entity.setIdleAnimation(Animations.IDLE_LEFT)):a==Orientation.RIGHT&&(this.sprites.entity.startAnimation(Animations.WALK_RIGHT),
this.sprites.entity.setIdleAnimation(Animations.IDLE_RIGHT))};Entity.prototype.move=function(a,b){var c=a-this.x,d=b-this.y,g=Math.sqrt(c*c+d*d);this.dest={x:a,y:b,vx:c/g*this.getSettings().walk_speed,vy:d/g*this.getSettings().walk_speed};this.aggressive&&this.aggressive.player.getUUID()==me().getUUID()&&(c={player:this.aggressive.player.getUUID(),uid:this.uid,x:a,y:b,map:this.getMap()},game.broadcast(Messages.ENTITY_MOVE,c))};
Entity.prototype.atDestination=function(){return distance(this.dest,this.getTop())<=this.getSettings().move_min_dist};Entity.prototype.tooFar=function(){return this.aggressive?!1:250<distance(this.orig_loc,this.getTop())};Entity.prototype.onMap=function(){return this.map==map.getName()};Entity.prototype.isVisible=function(){return this.onMap()&&game.isVisible(this.getCenter().x,this.getCenter().y)};
Entity.prototype.draw=function(){this.aggressive&&this.aggressive.player.getMap()!=this.map&&this.resetAggressiveness();if(this.onMap()){var a=Date.now();if(!this.clientside||me().isDoingObjective(Objective.KILL_ENTITY)&&"The Village's Demise"==me().getQuest().getTitle())if(this.dead){this.sprites.death.setX(this.getCenter().x-24);this.sprites.death.setY(this.getCenter().y-15);var b=this.sprites.death.getNextAnimation();b&&this.sprites.death.draw(b.col,b.row);if(a>this.death+1E3&&(game.removeEntity(this.uid),
this.clientside)){var c=this;this.dest=this.aggressive=void 0;this.getSprite().setOrientation(Orientation.DOWN);setTimeout(function(){c.dead=!1;c.hp=c.maxhp;c.setX(c.orig_loc.x);c.setY(c.orig_loc.y);game.addEntity(c)},3E3)}}else{this.sprites.shadow.isDataSet()&&(this.sprites.shadow.setX(this.x+this.sprites.entity.getWidth()/2-this.sprites.shadow.getWidth()/2),this.sprites.shadow.setY(this.y+this.sprites.entity.getHeight()/2+this.getShadowOffset()));this.sprites.shadow.draw(1,0);if(this.sprites.entity.isDoingAnimation())b=
this.sprites.entity.getNextAnimation(),this.sprites.entity.draw(b.col,b.row);else{var b=this.sprites.entity.getIdleAnimation(),d=this.lastIdleChange+this.getSettings().idle+1E3*Math.random();a>d&&(this.idleStep+=1,this.idleStep>b.length&&(this.idleStep=1),this.lastIdleChange=a);this.sprites.entity.draw(this.idleStep,b.row)}if(this.sprites.entity.isDataSet()&&this.hp<this.maxhp){var b=this.getBottomCenter(),d=this.hp/this.maxhp,g=game.getHealthColor(d);game.strokeRect(b.x,b.y,d*Settings.health_bar_width,
Settings.health_bar_height,"rgba(0, 0, 0, 0.8)");game.drawRect(b.x,b.y,d*Settings.health_bar_width,Settings.health_bar_height,g)}for(b=0;b<this.flyingtexts.length;b++)d=this.flyingtexts[b],d.draw(this.getTop()),d.isDead()&&this.flyingtexts.splice(b,1);this.clientside&&!this.aggressive&&5E3<a-this.lastMove&&(this.tooFar()?this.move(this.orig_loc.x,this.orig_loc.y):.3>=Math.random()&&(this.move(this.x+getFullRandom(150),this.y+getFullRandom(150)),this.lastMove=a+2500*Math.random()));this.aggressive&&
(this.aggressive.player.isDead()||this.aggressive.player.getMap()!=this.map?this.resetAggressiveness():this.getDistanceFromTarget()<=this.getSettings().move_min_dist?this.canAttack()&&(0<=game.getPlayerByUUID(this.aggressive.player.getUUID())?this.attack(this.aggressive.player):this.resetAggressiveness()):500>=this.getDistanceFromTarget()?this.move(this.aggressive.player.getCenter().x,this.aggressive.player.getCenter().y):this.resetAggressiveness());this.dest&&(this.isVisible()||this.isAggressive()?
this.atDestination()?this.dest=void 0:(this.x+=this.dest.vx,this.y+=this.dest.vy,this.sprites.entity.setPosition(this.x,this.y),this.startMoveAnimation(game.getOrientation(this.getCenter(),this.dest))):(this.x=this.dest.x,this.y=this.dest.y,this.sprites.entity.setPosition(this.x,this.y),this.dest=void 0));client.entities_onscreen++}}};var Camera=function(){};Camera.prototype.update=function(a,b){var c=game.isOffWorld(offset.x+b.x,offset.y+b.y),d=Math.abs(a.x-game.getCenter().x)<=Settings.player_speed+1||!me(),g=Math.abs(a.y-game.getCenter().y)<=Settings.player_speed+1||!me();c.x||c.y?!c.x&&c.y?d&&(offset.x+=b.x,a.x=game.getCenter().x):c.x&&!c.y?g&&(offset.y+=b.y,a.y=game.getCenter().y):me()||(offset.x=0,offset.y=0,ctx.setTransform(1,0,0,1,0,0)):(d&&(offset.x+=b.x,a.x=game.getCenter().x),g&&(offset.y+=b.y,a.y=game.getCenter().y))};
Camera.prototype.setToMiddle=function(){offset.x=-map.maxX/2+canvas.width/2-150;offset.y=-map.maxY/2+canvas.height/2};Camera.prototype.setToBottom=function(){offset.y=-map.getMaxY()+canvas.height};Camera.prototype.setToTop=function(){offset.y=0};var currentDots=0,existing=!0,loggingIn=!1,myplayer,soundtrack=new Audio("sounds/soundtrack.m4a");soundtrack.addEventListener("ended",function(){var a=this;setTimeout(function(){a.currentTime=0;a.play()},2E3)},!1);soundtrack.volume=.25;resize();flashDots();camera=new Camera;
function showLogin(a){"new"==a?(a=document.getElementById("new-login"),a.elements["new-username"].value="",a.elements["new-password"].value="",$("#existing-user").fadeOut(250),$("#new-user").delay(250).fadeIn(250),existing=!1):"existing"==a&&($("#new-user").fadeOut(250),$("#existing-user").delay(250).fadeIn(250),existing=!0)}function getForm(){var a=getFormIDs(),b=document.getElementById(a.form);return{username:b.elements[a.username].value,password:b.elements[a.password].value}}
function getFormIDs(){return existing?{form:"existing-login",username:"existing-username",password:"existing-password"}:{form:"new-login",username:"new-username",password:"new-password"}}
function login(){var a=getForm(),b=a.username,c=a.password;loggingIn||(3>b.length||16<b.length?alertBadInput("username","Username must be 3-16 characters."):b.includes("\\")||b.includes("'")||b.includes('"')?alertBadInput("username","Username contains illegal characters."):3>c.length||30<c.length?alertBadInput("password","Password must be 3-30 characters."):existing?(setLoggingIn(!0),$.ajax({type:"POST",url:"js/login.js",data:{username:b,password:c},success:function(a){setLoggingIn(!1);30<a.length?
(a=$.parseJSON(a),myplayer=new Player(a.uuid,a.username,$.parseJSON(a.level),$.parseJSON(a.inv),$.parseJSON(a.pos),$.parseJSON(a.quests),a.gp,MapType.MAIN),events.fire(EventType.LOGIN_BEGIN)):"bad username"==a?alertBadInput("username","Username does not exist."):"bad password"==a&&alertBadInput("password","Password is incorrect.")}})):(setLoggingIn(!0),$.ajax({type:"POST",url:"js/newuser.js",data:{username:b,password:c,uuid:game.getNewUUID()},success:function(a){setLoggingIn(!1);"bad username"!=a?
(a=document.getElementById("existing-login"),a.elements["existing-username"].value=b,a.elements["existing-password"].value=c,existing=!0,login()):alertBadInput("username","Username already exists.")}})))}
function quickCreate(){var a="#"+Math.random().toString(36).substr(2,5);setLoggingIn(!0);$.ajax({type:"POST",url:"js/newuser.js",data:{username:a,password:"123",uuid:game.getNewUUID()},success:function(b){setLoggingIn(!1);"bad username"!=b?(b=document.getElementById("existing-login"),b.elements["existing-username"].value=a,b.elements["existing-password"].value="123",existing=!0,login()):alertBadInput("username","Username already exists.")}})}
function setLoggingIn(a){var b=getFormIDs();a?(loggingIn=!0,$("#"+b.username).css("opacity","0.5").blur(),$("#"+b.password).css("opacity","0.5").blur()):(loggingIn=!1,$("#"+b.username).css("opacity","1"),$("#"+b.password).css("opacity","1"))}
function alertBadInput(a,b){var c=getFormIDs(),d;"username"==a?(d=c.username,document.getElementById(d).innerHTML=b,$("#"+d).attr("title",b).tooltip("fixTitle").tooltip("show").focus()):"password"==a&&(d=c.password,document.getElementById(d).innerHTML=b,$("#"+d).attr("title",b).tooltip("fixTitle").tooltip("show").focus());setTimeout(function(){$("#"+d).tooltip("hide")},2E3)}
function fadeSoundtrackOut(){var a=soundtrack.volume,b=setInterval(function(){a-=.006;0>=a?(clearInterval(b),soundtrack.pause()):soundtrack.volume=a},100)}
function resize(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;var a=$(window).height()/1.2,b=$(window).height()/15;$("#logo").css("width",a+"px");$("#logo").css("margin-bottom",b+"px");myplayer||(705>=$(window).height()?$("#logo").fadeOut(0):($("#logo").css("display","inline-block"),$("#logo").fadeIn(0)));me()&&client.clearKeys()}
function flashDots(){for(var a="",b=0;b<currentDots;b++)a+=".";document.getElementById("dots").innerHTML=a;currentDots++;3<currentDots&&(currentDots=0);0<=currentDots&&setTimeout(function(){flashDots()},500)}function stopFlashDots(){currentDots=-2};var Client=function(){map=maps[MapType.MAIN];then=Date.now();this.temp_pos={x:10,y:10};this.entities_onscreen=this.players_onscreen=0};
Client.prototype.draw=function(){if(!screen.disconnect){now=Date.now();elapsed=now-then;if(elapsed>fpsInterval){then=now-elapsed%fpsInterval;ctx.clearRect(0,0,width,height);ctx.save();ctx.translate(offset.x,offset.y);map.draw(MapLayer.BOTTOM);this.drawArray(items);for(var a=0;a<players.length;a++){var b=players[a];if(a!=myIndex&&null!=b&&b.getSprite().isDataSet()&&game.isVisible(b.getCenter().x,b.getCenter().y)){var c=this.getMovement(a);b.setX(b.getX()-c.x);b.setY(b.getY()-c.y);b.draw()}}if(me()&&
!me().isDead()){var a=clone(game.getMyPosition()),b=this.getMovement(myIndex),c=me().getNextPosition(),d=me().isNextPositionValid();60>=c.y?(a=game.getNextMap(Orientation.UP))&&game.switchMap(a,!0):c.y>=map.getMaxY()-90?(a=game.getNextMap(Orientation.DOWN))&&game.switchMap(a,!0):(d.x&&d.y?(a.x+=-b.x,a.y+=-b.y):d.x&&!d.y?(a.x+=-b.x,b.y=0):!d.x&&d.y?(a.y+=-b.y,b.x=0):d.x||d.y||(b.x=0,b.y=0),camera.update(a,b),me().setX(a.x),me().setY(a.y));me().draw()}else camera.update(this.temp_pos,Settings.idle_camera_speed),
this.temp_pos.x+=Settings.idle_camera_speed,this.temp_pos.y+=Settings.idle_camera_speed;this.drawArray(entities);map.draw(MapLayer.TOP);this.drawArray(npcs);this.drawArray(store_npcs);document.getElementById("players").innerHTML=this.players_onscreen;document.getElementById("entities").innerHTML=this.entities_onscreen;this.entities_onscreen=this.players_onscreen=0;ctx.restore()}drawing&&(lastDraw=Date.now(),window.requestAnimationFrame(this.draw.bind(this)))}};
Client.prototype.drawArray=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.getSprite().isDataSet()&&(game.isVisible(c.getCenter().x,c.getCenter().y)||c.dest)&&c.draw()}};
Client.prototype.getMovement=function(a){var b=0,c=0;if(void 0!=a&&null!=players[a]){var d=players[a].getKeys();a==myIndex&&(d=keys);this.isPressingKey(Key.LEFT,d)&&(b+=Settings.player_speed,players[a].move(Key.LEFT));this.isPressingKey(Key.RIGHT,d)&&(b+=-Settings.player_speed,players[a].move(Key.RIGHT));this.isPressingKey(Key.UP,d)&&(c+=Settings.player_speed,players[a].move(Key.UP));this.isPressingKey(Key.DOWN,d)&&(c+=-Settings.player_speed,players[a].move(Key.DOWN));a==myIndex&&(this.sendLocation(!1),
a=this.getKeysID(),lastKeysID!=a&&(1<a?(d={index:myIndex,uuid:me().getUUID(),keys:keys},game.broadcast(Messages.KEYS,d)):1==a&&this.sendLocation(!0),lastKeysID=a),screen.showingDebug()&&(document.getElementById("coords").innerHTML=Math.floor(me().getCenter().x)+", "+Math.floor(me().getCenter().y)))}else a==myIndex&&(b=Settings.idle_camera_speed.x,c=Settings.idle_camera_speed.y);return{x:b,y:c}};Client.prototype.isPressingKey=function(a,b){return-1<b.indexOf(a)};
Client.prototype.addKey=function(a){this.isPressingKey(a,keys)||keys.push(a)};Client.prototype.removeKey=function(a){for(var b=-1,c=0;c<keys.length;c++)if(keys[c]==a){b=c;break}-1<b&&keys.splice(b,1)};Client.prototype.getKeysID=function(){var a=1;-1<keys.indexOf(Key.UP)&&(a+=23);-1<keys.indexOf(Key.DOWN)&&(a+=87);-1<keys.indexOf(Key.LEFT)&&(a+=3);-1<keys.indexOf(Key.RIGHT)&&(a+=63);return a};Client.prototype.clearKeys=function(){keys=[]};
Client.prototype.sendLocation=function(a){a={index:myIndex,uuid:me().getUUID(),x:me().getX(),y:me().getY(),clear:a};game.broadcast(Messages.LOCATION,a)};client=new Client;client.draw();document.onkeydown=function(a){a||(a=window.event);var b=a.keyCode;a.charCode&&0==b&&(b=a.charCode);if(13==b){if(me())if(screen.isChatBoxOpen()){a=document.getElementById("message").value;if(0<a.length){var c=!0;me().isDoingObjective(Objective.TALK_IN_CHAT)&&.7<=getSimilarity(me().getCurrentObjective().getExpectedMessage(),a)&&(me().advanceQuest(),c=!1);me().muted&&(me().say("I'm muted!"),c=!1);a.startsWith("/")&&(me().isAdmin()?(c=a.substr(1).split(" "),void 0!=c[0]&&void 0!=c[1]?"kick"==c[0]?(game.kick(c[1]),
me().say("I have kicked "+c[1]+".")):"mute"==c[0]?(game.mute(c[1]),me().say("I have muted "+c[1]+".")):"unmute"==c[0]?(game.unmute(c[1]),me().say("I have unmuted "+c[1]+".")):"givegp"==c[0]&&void 0!=c[2]?(game.giveGP(c[1],parseInt(c[2])),me().say("I have given "+c[2]+" gp to "+c[1]+".")):"giveallgp"==c[0]?(game.giveAllGP(parseInt(c[1])),me().say("I have given "+c[1]+" gp to everyone.")):me().say(Settings.invalid_command):me().say(Settings.invalid_command),removeAllOccurances(prevChats,a),prevChats.push(a)):
me().say("I can't do that!"),c=!1);c&&(me().say(a),removeAllOccurances(prevChats,a),prevChats.push(a),a={index:myIndex,uuid:me().getUUID(),msg:a},game.broadcast("chat",a))}screen.hideChatBox();document.getElementById("message").value=""}else screen.showChatBox(),client.clearKeys()}else 27==b?me()&&!me().isDead()&&(screen.isChatBoxOpen()?(screen.hideChatBox(),document.getElementById("message").value=""):(screen.isMenuShowing()?screen.hideMenu():screen.showMenu(),$("#confirm-purchase").fadeOut(250),
$("#overlay").fadeOut(250))):38==b&&screen.isChatBoxOpen()&&0<prevChats.length&&(a=prevChats[prevChatIndex],document.getElementById("message").value=a,prevChatIndex--,0>prevChatIndex&&(prevChatIndex=prevChats.length-1));void 0!=myIndex&&!screen.isChatBoxOpen()&&noblur&&((a=game.getKeyFromCode(b))?client.addKey(a):192==b?screen.toggleDebug():69==b&&(b=game.getNearbyItem(me().getCenter().x,me().getCenter().y),a=game.getNearbyNPC(me().getCenter().x,me().getCenter().y),b?(game.removeItem(b),"moneybag"==
b.getID()?me().addGP(getRange(30,100)):(me().giveItem(b,1),b=new Text("+1 "+b.getName(),{size:25,color:TextColor.GP}),me().addText(b))):a&&(a.quest?a.talk():a.getType()==StoreType.ARMORY?armory.showStore():a.getType()==StoreType.HEALER&&(100>me().getHP()?me().getGP()>=Settings.heal_cost?(me().heal(100-me().getHP()),setTimeout(function(){me().removeGP(Settings.heal_cost)},500)):a.talk("Healing costs "+Settings.heal_cost+" gp."):a.talk("You are fully healed already.")))))};
document.onkeyup=function(a){a||(a=window.event);var b=a.keyCode;a.charCode&&0==b&&(b=a.charCode);void 0==myIndex||screen.isChatBoxOpen()||screen.isMenuShowing()||!(a=game.getKeyFromCode(b))||(client.removeKey(a),me().getSprite().stopAnimation(game.getAnimationFromKey(a)))};
document.onmousedown=function(a){mouse.x=a.offsetX;mouse.y=a.offsetY;a=a.button;void 0!=myIndex&&(0==a?!screen.isMenuShowing()&&me().canAttack()&&(me().attack(),a={index:myIndex,uuid:me().uuid},game.broadcast(Messages.ATTACK,a)):2==a&&client.clearKeys())};document.onmouseup=function(a){2==a.button&&client.clearKeys()};$(window).blur(function(a){client.clearKeys();screen.isChatBoxOpen()&&(screen.hideChatBox(),document.getElementById("message").value="")});socket.on("disconnect",function(){screen.showDisconnected()});
socket.on("msg",function(a){if(a.type==Messages.GET_PLAYERS_RESPONSE){for(var b=0;b<a.players.length;b++){var c=a.players[b];null!=c?(c=new Player(c.uuid,c.username,c.level,c.inv,c.pos,c.quests,c.gp,c.map),players.push(c)):players.push(null)}myIndex=players.length;players.push(myplayer);game&&(me().setX(game.getCenter().x),me().setY(game.getCenter().y));for(b=0;b<a.entities.length;b++)c=new Entity(a.entities[b].id,a.entities[b].uid,a.entities[b].x,a.entities[b].y,a.entities[b].hp,a.entities[b].map),
game.addEntity(c);document.getElementById("online").innerHTML=game.getPlayersOnline();events.fire(EventType.LOGIN_FINISH)}if(me()){if(a.type==Messages.ADD_ENTITY)c=new Entity(a.entity.id,a.entity.uid,a.entity.x,a.entity.y,a.entity.hp,a.entity.map),game.addEntity(c);else if(a.type==Messages.KILL_ENTITY)c=game.getEntity(a.uid),c.kill(),a.player==me().getUUID()&&me().addXP(c.getSettings().death_xp,TextColor.KILL_XP);else if(a.type==Messages.ATTACK_ENTITY)c=game.getEntity(a.uid),c.hurt(a.amount),a.player==
me().getUUID()&&me().addXP(15);else if(a.type==Messages.MOVE_ENTITIES)for(b=0;b<a.moves.length;b++){var d=a.moves[b];(c=game.getEntity(d.uid))&&!c.isAggressive()&&c.move(d.x,d.y)}else a.type==Messages.AGGRO?(b=players[game.getPlayerByUUID(a.player)],c=game.getEntity(a.uid),b&&!b.isClient()&&c&&c.aggro(b)):a.type==Messages.ENTITY_MOVE&&a.player!=me().getUUID()&&(c=game.getEntity(a.uid),c.move(a.x,a.y));a.uuid&&(a.type==Messages.ADMIN_KICK?a.uuid==me().getUUID()&&(document.getElementById("kick-msg").innerHTML=
"Kicked from game server.",socket.disconnect()):a.type==Messages.ADMIN_MUTE?a.uuid==me().getUUID()&&(me().muted=!0,b=new Text("Muted",{size:20,color:TextColor.HURT}),me().addText(b)):a.type==Messages.ADMIN_UNMUTE?a.uuid==me().getUUID()&&(me().muted=!1,b=new Text("Unmuted",{size:20,color:TextColor.XP}),me().addText(b)):a.type==Messages.ADMIN_GIVE_GP?a.uuid==me().getUUID()&&me().addGP(a.amount):a.type==Messages.ADMIN_GIVE_ALL_GP&&me().addGP(a.amount),a.uuid!=me().getUUID()&&(a.type==Messages.JOIN?(c=
new Player(a.uuid,a.username,a.level,a.inv,a.pos,a.quests,a.gp,MapType.MAIN),players.push(c),document.getElementById("online").innerHTML=game.getPlayersOnline()):a.type==Messages.LEAVE?(a=game.getPlayerByUUID(a.uuid),-1<a&&(b=players[a],players[a]=null,toKill&&b.getUUID()==toKill.getUUID()&&game.setPlayerToKill()),document.getElementById("online").innerHTML=game.getPlayersOnline()):a.type==Messages.KEYS?(b=a.keys,0<b.length?players[a.index].setKeys(b):players[a.index].clearKeys()):a.type==Messages.LOCATION?
(b=players[a.index],b.setX(a.x),b.setY(a.y),a.clear&&b.clearKeys()):a.type==Messages.CHANGE_MAP?(b=players[a.index],b.setMap(a.newmap)):a.type==Messages.ATTACK?players[a.index].attack():a.type==Messages.LEVEL_UP?(players[a.index].setLevel(a.newlevel),players[a.index].addText(new Text("Level Up!",{size:25,block:!0,color:TextColor.LEVEL_UP,death:1E3,speed:.4}))):a.type==Messages.CHAT?players[a.index].say(a.msg):a.type==Messages.UPDATE_INV?(b=players[a.index],c=b.inventory,a=a.newinv,b.inventory=a,c.armor!=
a.armor&&b.giveArmor(game.getArmorFromID(a.armor)),c.sword!=a.sword&&b.giveWeapon(game.getWeaponFromID(a.sword))):a.type==Messages.ATTACK_PLAYER?players[a.index].softHurt(a.amount):a.type==Messages.DEATH?players[a.index].kill():a.type==Messages.SOFT_DEATH?(players[a.index].softKill(),me().isDoingObjective(Objective.KILL_PLAYER)&&players[a.index].getUUID()==toKill.getUUID()&&me().advanceQuest()):a.type==Messages.REVIVE&&players[a.index].revive()))}});var Events=function(){this.events={load_finish:function(){$("#loading").fadeOut(250);$("#game").delay(250).fadeIn(250);$("#center-container").delay(500).fadeIn(250);stopFlashDots();setTimeout(function(){$("body").css("background","");$("#existing-username").focus()},750)},login_begin:function(){myplayer.updateXPBar();myplayer.updateGPValue();game.broadcast(Messages.USER_INFO,myplayer.getObject());game.broadcast(Messages.JOIN,myplayer.getObject());game.broadcast(Messages.GET_PLAYERS,{uuid:myplayer.uuid});
camera.setToMiddle()},login_finish:function(){game.initializeClientEntities();screen.removeLoginScreen();$("#new-user").fadeOut(250);armory.setStoreItems();game.setPlayerToKill();updateNPCs()},player_move:function(){var a=me().getCenter();(a=game.getNearbyNPC(a.x,a.y))&&a.showInteraction()}}};Events.prototype.fire=function(a){this.events[a]()};events=new Events;
